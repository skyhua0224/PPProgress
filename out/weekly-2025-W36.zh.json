{
  "title": "周报（2025-09-01 至 2025-09-07）",
  "lang": "zh",
  "since": "2025-09-01",
  "until": "2025-09-07",
  "generatedAt": "2025-11-02T10:55:29.745Z",
  "progress": {
    "totals": {
      "commits": 39,
      "files": 212,
      "added": 24467,
      "removed": 3207
    },
    "modules": [
      {
        "name": "ProjectPrinting",
        "path": ".",
        "commits": [
          {
            "hash": "af0010d581c847175aa263b1e392d4564447dda2",
            "datetime": "2025-09-05 22:49:29 +0800",
            "subject": "feat: 新增支付确认测试页面以及支付系统文档"
          },
          {
            "hash": "045ad372ef961309fbf48d974ac31c45c880a8d7",
            "datetime": "2025-09-03 15:36:02 +0800",
            "subject": "feat: 更新优惠券计划文档，重构导航与章节，补充最新进展与关键验证点"
          },
          {
            "hash": "ab32613eaaccc3d86c95ab366c4d2758a5c2eb4f",
            "datetime": "2025-09-03 15:35:28 +0800",
            "subject": "feat: 同步本地优惠券相关文档"
          }
        ],
        "files": 32,
        "added": 15535,
        "removed": 276,
        "heat": [
          [
            "docs",
            14123
          ],
          [
            "file_list.txt",
            874
          ],
          [
            "coupon_system_analysis.md",
            469
          ],
          [
            "TASKS.md",
            340
          ],
          [
            ".gitignore",
            5
          ],
          [
            "Coupon-Campaign-Audit-Report.md",
            0
          ]
        ],
        "subjects": [
          "feat: 新增支付确认测试页面以及支付系统文档",
          "feat: 更新优惠券计划文档，重构导航与章节，补充最新进展与关键验证点",
          "feat: 同步本地优惠券相关文档"
        ]
      },
      {
        "name": "admin",
        "path": "admin",
        "commits": [
          {
            "hash": "be9d57b5311e114cd444414d7e6f1f69d9ce4110",
            "datetime": "2025-09-03 19:17:15 +0800",
            "subject": "feat: 完成订单管理前端样式和逻辑设计"
          },
          {
            "hash": "3923af0c576287e160f93a523d3a1169bebc3939",
            "datetime": "2025-09-03 02:35:44 +0800",
            "subject": "feat: 更新优惠券创建页面，支持选择服务或履约，优化绑定逻辑和翻译"
          }
        ],
        "files": 18,
        "added": 1571,
        "removed": 20,
        "heat": [
          [
            "src/views/order",
            849
          ],
          [
            "src/service/api",
            357
          ],
          [
            "src/typings/api.d.ts",
            110
          ],
          [
            "pnpm-lock.yaml",
            103
          ],
          [
            "src/locales/langs",
            68
          ],
          [
            "src/views/marketing",
            56
          ],
          [
            "src/typings/app.d.ts",
            24
          ],
          [
            "src/router/elegant",
            11
          ],
          [
            "types",
            9
          ],
          [
            "src/typings/elegant-router.d.ts",
            3
          ],
          [
            "package.json",
            1
          ]
        ],
        "subjects": [
          "feat: 完成订单管理前端样式和逻辑设计",
          "feat: 更新优惠券创建页面，支持选择服务或履约，优化绑定逻辑和翻译"
        ]
      },
      {
        "name": "frontend",
        "path": "frontend",
        "commits": [
          {
            "hash": "576c2791e6e989bcc764fa748e1ec2b4839b44f3",
            "datetime": "2025-09-06 21:57:55 +0800",
            "subject": "feat: 完善订单页面设计，初步修正订单详情页面"
          },
          {
            "hash": "dc85742c5c30e80dbfefb5616a4f8829893fdb31",
            "datetime": "2025-09-05 22:48:23 +0800",
            "subject": "feat: 新增支付确认和支付成功页"
          },
          {
            "hash": "56a92ca24d7e25d27055ca599a77ab507e5144a0",
            "datetime": "2025-09-05 15:55:23 +0800",
            "subject": "feat: 新增会员等级券支持"
          },
          {
            "hash": "1fbe3fc672f3782d7b24f68f3e9f2a6e5463aeb2",
            "datetime": "2025-09-03 02:45:35 +0800",
            "subject": "feat: 完善一切和优惠券有关的设计和代码，使其能够正常使用和计价"
          }
        ],
        "files": 45,
        "added": 3854,
        "removed": 1991,
        "heat": [
          [
            "src/pages-sub/checkout",
            1447
          ],
          [
            "src/pages-sub/payment",
            1169
          ],
          [
            "src/pages-sub/order",
            784
          ],
          [
            "src/pages-sub/mine",
            591
          ],
          [
            "src/pages/order",
            392
          ],
          [
            "src/components/CouponRuleSheet.vue",
            262
          ],
          [
            "src/service/orderMockData.ts",
            236
          ],
          [
            "src/components/VoucherCard.vue",
            235
          ],
          [
            "src/pages-sub/filePrinting",
            167
          ],
          [
            "src/service/couponService.ts",
            137
          ],
          [
            "src/components/PaymentFooter.vue",
            101
          ],
          [
            "src/components/CouponCard.vue",
            86
          ],
          [
            "src/service/orderService.ts",
            81
          ],
          [
            "src/store/componentMap.ts",
            68
          ],
          [
            "src/components/CouponPicker.vue",
            25
          ]
        ],
        "subjects": [
          "feat: 完善订单页面设计，初步修正订单详情页面",
          "feat: 新增支付确认和支付成功页",
          "feat: 新增会员等级券支持",
          "feat: 完善一切和优惠券有关的设计和代码，使其能够正常使用和计价"
        ]
      },
      {
        "name": "backend",
        "path": "backend",
        "commits": [
          {
            "hash": "0c362baeb75873b8270bdc9cc7ca911c5bb71899",
            "datetime": "2025-09-05 15:39:38 +0800",
            "subject": "feat: 优化虚拟等级折扣券逻辑，确保用户信息重新加载以避免懒加载异常"
          },
          {
            "hash": "1aa290b640b547b82d7ef23e6708c8314c7496ae",
            "datetime": "2025-09-05 15:33:04 +0800",
            "subject": "feat: 优化虚拟券创建逻辑，添加日志记录以便调试，简化条件判断"
          },
          {
            "hash": "8773a6a03dbab02fd6cd4a8d0f9babc0e33a7ff5",
            "datetime": "2025-09-05 15:23:29 +0800",
            "subject": "feat: 添加虚拟等级折扣券支持，优化优惠券排序逻辑，更新 UserCouponDTO 源字段"
          },
          {
            "hash": "aa3c3c921b5d8ae129a6311b51c5e4be37f64d5a",
            "datetime": "2025-09-04 22:59:04 +0800",
            "subject": "feat: 添加支付处理功能，包括支付回调和订单状态更新，修复 user-coupon的懒加载报错"
          },
          {
            "hash": "715ff6aa7c3cbf9d93d9e646109ae861a22bf698",
            "datetime": "2025-09-04 21:33:22 +0800",
            "subject": "feat: 完成对于订单部分后端的主要设计和重构"
          },
          {
            "hash": "89fa37c34430496a62a29fcadc50bc5796b7c0a2",
            "datetime": "2025-09-03 02:34:55 +0800",
            "subject": "feat: 更新 FulfillmentPriceRule 和 StoreFulfillmentSettingRepository 以优化履约费用处理逻辑"
          },
          {
            "hash": "adc5295e1cfffa49a5c804129bc856d80e0e6c46",
            "datetime": "2025-09-03 02:31:39 +0800",
            "subject": "feat: 添加 FulfillmentPriceRule 以支持 SPECIAL_PRICE 和 EXCHANGE 优惠券的履约价格验证"
          },
          {
            "hash": "1527b17ead2c82316428de125a7894f462b8aec4",
            "datetime": "2025-09-03 02:21:26 +0800",
            "subject": "feat: 更新 CouponDiscountCalculator 和 ScopeRule 以支持 boundFulfillmentKey 字段"
          },
          {
            "hash": "298b6d1460936a8b4de41d5fab77b8abf2e92b77",
            "datetime": "2025-09-03 02:15:06 +0800",
            "subject": "feat: 在 SpecialPriceRule 中添加对 EXCHANGE 模板的处理逻辑"
          },
          {
            "hash": "4936b7fc3b58155d2908a80fc64710da7eb0eea3",
            "datetime": "2025-09-03 02:14:03 +0800",
            "subject": "feat: 更新 SpecialPriceRule 以支持 EXCHANGE 模板和绑定的 fulfillmentKey"
          },
          {
            "hash": "75412a63263ec8027a24ac241cb057001a93431f",
            "datetime": "2025-09-03 02:10:13 +0800",
            "subject": "feat: 在 UserCouponServiceImpl 中添加对 fulfillment 的处理逻辑，以支持订单上下文的完整性"
          },
          {
            "hash": "eb793650c8edb1ff6606e338a67c70d351481652",
            "datetime": "2025-09-03 02:01:13 +0800",
            "subject": "feat: 在 CouponRuleConfig 中添加 boundFulfillmentKey 字段，并更新相关逻辑以支持新字段"
          },
          {
            "hash": "8cfac8756591da35798e815ef554880b4b5c0d14",
            "datetime": "2025-09-03 00:32:55 +0800",
            "subject": "feat: 在 FulfillmentOptionDTO 中添加 configMode 字段，并在 ClientFulfillmentServiceImpl 中设置配置模式"
          },
          {
            "hash": "1647a2e14503394e75c3a78006a5cb88ea0ad759",
            "datetime": "2025-09-03 00:16:32 +0800",
            "subject": "feat: 简化优惠券选择器逻辑，通过轻量级检查区分请求类型"
          },
          {
            "hash": "5c1399f363af7815b687b40d42e2207d8af3c8be",
            "datetime": "2025-09-03 00:12:02 +0800",
            "subject": "feat: 修改 CouponQueryDTO 中 orderContext 的类型为 Object，以增强灵活性"
          },
          {
            "hash": "52b3a5f46b0e0b81cdac4ba609cc07e429138ec8",
            "datetime": "2025-09-02 23:47:23 +0800",
            "subject": "fix: 修复类型转换异常，确保 OrderItemDTO 的安全转换"
          },
          {
            "hash": "d4a17c5ee3bd28638d427424c6465ffa692eb657",
            "datetime": "2025-09-02 23:32:49 +0800",
            "subject": "feat: 引入 ClientPricingService，增强优惠券选择器逻辑，支持订单上下文的简化处理"
          },
          {
            "hash": "e50de909720165ed8be1a09a6950dea17a75db33",
            "datetime": "2025-09-02 23:06:26 +0800",
            "subject": "feat: 替换 OrderCalculationServiceImpl 中的 UserCouponService 为 UserCouponRepository，优化用户优惠券查询逻辑"
          },
          {
            "hash": "ee2eaa4d80f3bfe806fed006af33f5a9c14b44d4",
            "datetime": "2025-09-02 23:04:04 +0800",
            "subject": "feat: 移除 ClientPricingService 中的 calculateOrder 方法及相关依赖，简化定价服务逻辑"
          },
          {
            "hash": "d76baea1da4e3bd3bd71a9147315af7add3397e3",
            "datetime": "2025-09-02 22:53:35 +0800",
            "subject": "feat: 增强优惠券选择器逻辑，支持订单上下文的两阶段处理，并引入订单计算服务进行精确折扣计算"
          },
          {
            "hash": "af272ced1bd27584903e14827200d4ea6d5da9ce",
            "datetime": "2025-09-02 17:56:43 +0800",
            "subject": "feat: 优化用户优惠券获取逻辑，简化“我的优惠券”响应结构并增强范围文本生成"
          },
          {
            "hash": "2a66c737dfdcf92e717fff0ccc8f66dd44e30749",
            "datetime": "2025-09-02 17:41:32 +0800",
            "subject": "feat: 优化用户优惠券逻辑，根据订单上下文区分“优惠券选择器”和“我的优惠券”页面的处理方式"
          },
          {
            "hash": "f7b45728559113cab7575ad75244576b7ec8900a",
            "datetime": "2025-09-02 17:06:42 +0800",
            "subject": "feat: 在 UserCouponDTO 中新增 config 字段，并在 UserCouponServiceImpl 中设置完整配置对象以支持详情面板"
          },
          {
            "hash": "3ab5538e5deb645b51d4b53b0532900d0440fd5e",
            "datetime": "2025-09-01 22:49:31 +0800",
            "subject": "feat: 添加 SpecialPriceRule 以支持特殊价格优惠逻辑，并优化 CouponEngine 中规则的排序"
          },
          {
            "hash": "842114df126a7b6b5e76206ab90c49860cf4f387",
            "datetime": "2025-09-01 22:32:23 +0800",
            "subject": "feat: 使用共享的 ObjectMapper 实例优化 calculateDeduction 方法中的 JSON 序列化"
          },
          {
            "hash": "7ec4254f3b9b9d6a1de886d7ba87beee21efde60",
            "datetime": "2025-09-01 22:28:51 +0800",
            "subject": "feat: 增加 calculateDeduction 方法中的日志记录，便于调试用户优惠券和商品价格详情"
          },
          {
            "hash": "b50e81f7c6ee031a38e8920a86bf2ed6a8ffcb59",
            "datetime": "2025-09-01 21:13:42 +0800",
            "subject": "feat: 新增 OrderCalculationService 以支持整单计算逻辑，优化价格计算流程"
          },
          {
            "hash": "6dca4e3f27e254dad62ab3f1146cf8c747473bb1",
            "datetime": "2025-09-01 21:09:22 +0800",
            "subject": "feat: 优化履约费用计算逻辑，增加默认返回对象处理；重构费用详情填充逻辑以确保准确性"
          },
          {
            "hash": "fc8a335c22c769707933edea752dcfad411a8103",
            "datetime": "2025-09-01 20:43:14 +0800",
            "subject": "feat: 优化费用计算逻辑，增加对空和无效履约键的处理；重构价格计算逻辑以增强可读性和准确性"
          },
          {
            "hash": "f6da880e700be83f8c25aa9499bb337f667a1104",
            "datetime": "2025-09-01 19:59:58 +0800",
            "subject": "feat: 重构费用计算逻辑，新增 FulfillmentFeeDetailVO 类以支持更复杂的履约费用处理；更新相关服务以使用新结构"
          }
        ],
        "files": 117,
        "added": 3507,
        "removed": 920,
        "heat": [
          [
            "src/main/java",
            4236
          ],
          [
            "src/main/resources",
            191
          ]
        ],
        "subjects": [
          "feat: 优化虚拟等级折扣券逻辑，确保用户信息重新加载以避免懒加载异常",
          "feat: 优化虚拟券创建逻辑，添加日志记录以便调试，简化条件判断",
          "feat: 添加虚拟等级折扣券支持，优化优惠券排序逻辑，更新 UserCouponDTO 源字段",
          "feat: 添加支付处理功能，包括支付回调和订单状态更新，修复 user-coupon的懒加载报错",
          "feat: 完成对于订单部分后端的主要设计和重构",
          "feat: 更新 FulfillmentPriceRule 和 StoreFulfillmentSettingRepository 以优化履约费用处理逻辑",
          "feat: 添加 FulfillmentPriceRule 以支持 SPECIAL_PRICE 和 EXCHANGE 优惠券的履约价格验证",
          "feat: 更新 CouponDiscountCalculator 和 ScopeRule 以支持 boundFulfillmentKey 字段",
          "feat: 在 SpecialPriceRule 中添加对 EXCHANGE 模板的处理逻辑",
          "feat: 更新 SpecialPriceRule 以支持 EXCHANGE 模板和绑定的 fulfillmentKey",
          "feat: 在 UserCouponServiceImpl 中添加对 fulfillment 的处理逻辑，以支持订单上下文的完整性",
          "feat: 在 CouponRuleConfig 中添加 boundFulfillmentKey 字段，并更新相关逻辑以支持新字段",
          "feat: 在 FulfillmentOptionDTO 中添加 configMode 字段，并在 ClientFulfillmentServiceImpl 中设置配置模式",
          "feat: 简化优惠券选择器逻辑，通过轻量级检查区分请求类型",
          "feat: 修改 CouponQueryDTO 中 orderContext 的类型为 Object，以增强灵活性",
          "fix: 修复类型转换异常，确保 OrderItemDTO 的安全转换",
          "feat: 引入 ClientPricingService，增强优惠券选择器逻辑，支持订单上下文的简化处理",
          "feat: 替换 OrderCalculationServiceImpl 中的 UserCouponService 为 UserCouponRepository，优化用户优惠券查询逻辑",
          "feat: 移除 ClientPricingService 中的 calculateOrder 方法及相关依赖，简化定价服务逻辑",
          "feat: 增强优惠券选择器逻辑，支持订单上下文的两阶段处理，并引入订单计算服务进行精确折扣计算",
          "feat: 优化用户优惠券获取逻辑，简化“我的优惠券”响应结构并增强范围文本生成",
          "feat: 优化用户优惠券逻辑，根据订单上下文区分“优惠券选择器”和“我的优惠券”页面的处理方式",
          "feat: 在 UserCouponDTO 中新增 config 字段，并在 UserCouponServiceImpl 中设置完整配置对象以支持详情面板",
          "feat: 添加 SpecialPriceRule 以支持特殊价格优惠逻辑，并优化 CouponEngine 中规则的排序",
          "feat: 使用共享的 ObjectMapper 实例优化 calculateDeduction 方法中的 JSON 序列化",
          "feat: 增加 calculateDeduction 方法中的日志记录，便于调试用户优惠券和商品价格详情",
          "feat: 新增 OrderCalculationService 以支持整单计算逻辑，优化价格计算流程",
          "feat: 优化履约费用计算逻辑，增加默认返回对象处理；重构费用详情填充逻辑以确保准确性",
          "feat: 优化费用计算逻辑，增加对空和无效履约键的处理；重构价格计算逻辑以增强可读性和准确性",
          "feat: 重构费用计算逻辑，新增 FulfillmentFeeDetailVO 类以支持更复杂的履约费用处理；更新相关服务以使用新结构"
        ]
      }
    ]
  }
}