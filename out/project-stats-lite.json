{"generatedAt":"2025-12-21T19:23:50.812Z","repo":"main","modulesAllowed":["admin","backend","frontend"],"windows":{"trendDays":30,"moduleDays":30,"weekDays":7},"commitTrend":[{"date":"2025-11-22","count":0},{"date":"2025-11-23","count":0},{"date":"2025-11-24","count":0},{"date":"2025-11-25","count":0},{"date":"2025-11-26","count":2},{"date":"2025-11-27","count":3},{"date":"2025-11-28","count":0},{"date":"2025-11-29","count":3},{"date":"2025-11-30","count":0},{"date":"2025-12-01","count":5},{"date":"2025-12-02","count":7},{"date":"2025-12-03","count":3},{"date":"2025-12-04","count":0},{"date":"2025-12-05","count":0},{"date":"2025-12-06","count":0},{"date":"2025-12-07","count":0},{"date":"2025-12-08","count":3},{"date":"2025-12-09","count":3},{"date":"2025-12-10","count":3},{"date":"2025-12-11","count":0},{"date":"2025-12-12","count":0},{"date":"2025-12-13","count":0},{"date":"2025-12-14","count":0},{"date":"2025-12-15","count":3},{"date":"2025-12-16","count":1},{"date":"2025-12-17","count":0},{"date":"2025-12-18","count":6},{"date":"2025-12-19","count":10},{"date":"2025-12-20","count":6},{"date":"2025-12-21","count":0}],"weekTotals":{"commits":18,"added":10594,"removed":1658,"files":0,"activeModules":2,"byModule":{"admin":{"added":9273,"removed":1531,"commits":2},"backend":{"added":1321,"removed":127,"commits":16}}},"monthTotals":{"commits":50,"added":13743,"removed":2363,"files":0,"activeModules":2,"byModule":{"admin":{"added":9273,"removed":1531,"commits":2},"backend":{"added":4470,"removed":832,"commits":48}}},"yearTotals":{"commits":1017,"added":249799,"removed":400922,"files":0,"activeModules":3,"byModule":{"admin":{"added":88592,"removed":45903,"commits":180},"backend":{"added":85016,"removed":31188,"commits":731},"frontend":{"added":76191,"removed":323831,"commits":106}}},"recentCommits":[{"hash":"admin-4400a7984d19a4c5db2844d79added5a91b260da","datetime":"2025-12-21T03:52:01+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat(printing-center): 增强打印任务管理，优化进度显示与状态更新逻辑，完成打印中心全部功能和界面设计","modules":["admin"]},{"hash":"backend-61e4e694d247fca71434487890317f68b4deeb4d","datetime":"2025-12-21T02:49:03+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 优化打印作业状态转换逻辑，添加自动超时处理功能","modules":["backend"]},{"hash":"backend-6849b8fc6ea78cdff32f42f83e337ae47a14c826","datetime":"2025-12-20T20:07:50+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加上传文件的页面计数解析逻辑，优化打印作业进度计算","modules":["backend"]},{"hash":"backend-c006cddc5942cb760a560281c660e602f07c315b","datetime":"2025-12-20T19:40:57+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加打印作业模拟器的页面级进度更新功能，支持并发控制和更细粒度的进度反馈","modules":["backend"]},{"hash":"backend-f69e8472e901617898a7aa9f84cdf93a570489fc","datetime":"2025-12-20T15:20:24+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加根据ID获取打印作业项及其关联订单文件的查询方法","modules":["backend"]},{"hash":"backend-740257420e7002b41607b7cbb6d4d452be020524","datetime":"2025-12-20T15:11:10+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加打印调度策略，支持按复制和按文件模式的自动启动和恢复功能","modules":["backend"]},{"hash":"backend-ffbc1324dc560529feae9c08cd95f865bfd46e63","datetime":"2025-12-20T04:05:56+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加打印作业实时更新功能，支持通过SSE推送打印状态和进度信息","modules":["backend"]},{"hash":"admin-6e874c72864da92233d84df6dd3b6407241e81b0","datetime":"2025-12-20T03:38:26+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"stash: 打印中心界面更新初版","modules":["admin"]},{"hash":"backend-97cd7f0c816edcc56f3f098c547c035ee3d38a5b","datetime":"2025-12-19T05:10:35+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 更新打印作业状态处理逻辑，添加打印项数量和进度信息","modules":["backend"]},{"hash":"backend-eec46c3071881c1146cc7b5c6d803d40ab72ba3a","datetime":"2025-12-19T04:37:35+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加打印完成状态，更新相关订单状态处理逻辑","modules":["backend"]},{"hash":"backend-562ad92f31d38653f8106150e13a3dd312545405","datetime":"2025-12-19T04:09:14+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 更新打印作业项处理逻辑，添加数量字段并调整进度更新事件类型","modules":["backend"]},{"hash":"backend-a67aa6fdfffc7742ded6e7a79ceb047030bc64fd","datetime":"2025-12-19T04:01:00+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 更新打印作业进度处理逻辑，支持手动模式下的暂停状态","modules":["backend"]},{"hash":"backend-42b3c4e1077948f2dedccb2ad1ac6619bc785e74","datetime":"2025-12-19T03:53:36+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加打印作业状态字段并更新订单状态处理逻辑","modules":["backend"]},{"hash":"backend-6d21338f4e93b70adf8295b8b92a68a2f34a1b06","datetime":"2025-12-19T03:33:16+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加打印任务完成后自动转移订单状态至READY_FOR_PICKUP","modules":["backend"]},{"hash":"backend-3da37e30565902f0db25a6f6ef8209f8f6466732","datetime":"2025-12-16T12:44:49+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加打印作业更新事件处理，支持事务后和非事务情况下的广播","modules":["backend"]},{"hash":"backend-c412362fa936bbb57d9a4e9d7944d874047e4fe8","datetime":"2025-12-16T03:14:01+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 更新订单状态变更处理，支持广播全局新订单事件和特定商店队列更新","modules":["backend"]},{"hash":"backend-60f8b7ffc922592e225c9aeeb89eb6a9407969d3","datetime":"2025-12-16T03:03:25+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加订单状态变更事件处理，支持广播队列更新事件","modules":["backend"]},{"hash":"backend-5f347f80643df6cb993b77d8518a17a16d36223d","datetime":"2025-12-16T02:09:17+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 将打印作业更新事件监听器更改为事务后触发，确保数据一致性","modules":["backend"]},{"hash":"backend-3dac315a0320d1b2e2f44aa1e560bd3f2432bfa7","datetime":"2025-12-11T02:52:53+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 更新打印作业监控流和状态响应，添加进度和副本信息","modules":["backend"]},{"hash":"backend-5c1d4abf19a3f884ca138380cdd00dd68a65aecd","datetime":"2025-12-11T02:26:55+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加全局打印作业监控流和事件广播功能，更新相关服务以支持实时更新","modules":["backend"]},{"hash":"backend-2467e74aef81f81d62afbbf8462bf95333f4596d","datetime":"2025-12-11T01:57:18+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加商店指标服务，更新商店仪表板以包含模式信息","modules":["backend"]},{"hash":"backend-1d8003e7539be1ff97b3c66b33f7c6f7d6ef9d46","datetime":"2025-12-10T02:16:05+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加活跃订单计数功能，更新打印中心和商店信息","modules":["backend"]},{"hash":"backend-844886b7d13f08b20867b29396ec1eef98ec1c8f","datetime":"2025-12-09T13:30:16+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 调整打印模拟频率和进度增量，提升打印作业更新效率","modules":["backend"]},{"hash":"backend-f870af3fa3fb6635c74110377d7af58076c57053","datetime":"2025-12-09T12:59:53+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 更新打印作业进度广播逻辑，支持从订单获取商店ID","modules":["backend"]},{"hash":"backend-9cf51f8e30f80742854fc5c056360345d0126bd4","datetime":"2025-12-08T18:22:18+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加 jobId 到 PrintingTaskDTO，并在订单处理时填充该字段；更新队列编号逻辑以处理取件信息","modules":["backend"]},{"hash":"backend-ae1aeec2e0ba1bd81ad96e540542d8a180043008","datetime":"2025-12-08T15:25:03+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 在定时刷新打印机状态时跳过未关联CUPS服务器的打印机","modules":["backend"]},{"hash":"backend-92feb0a76ac7a0c9c94e41e42756c2439e8f2da7","datetime":"2025-12-08T15:18:42+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加打印机关联CUPS服务器的检查逻辑","modules":["backend"]},{"hash":"backend-3b6ec235bd6f6e2347bac733c7182c2a864b66e3","datetime":"2025-12-04T03:29:54+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 在打印作业进度中添加当前文件名的设置逻辑","modules":["backend"]},{"hash":"backend-9291709a155abe2302e581400e3ce68b06e28b48","datetime":"2025-12-04T02:39:44+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加数据初始化器以设置默认商店、代理和打印机","modules":["backend"]},{"hash":"backend-4a09c5a8ea27793187c1d806663cbe76a188e48a","datetime":"2025-12-04T01:59:51+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加获取队列编号的方法到 PrintingQueueItemDTO","modules":["backend"]},{"hash":"backend-0aa2ba680d63e875e85d2d20b27b6f84739664a1","datetime":"2025-12-03T03:18:52+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加文件摘要列表到 PrintingQueueItemDTO，并在 OrderServiceImpl 中填充文件信息","modules":["backend"]},{"hash":"backend-bbcf460e1da3420f14e66296e377fd5d1a9ead4f","datetime":"2025-12-03T03:08:44+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"refactor: 更新打印中心相关服务和控制器以使用 StoreDashboardDTO，简化商店信息获取逻辑","modules":["backend"]},{"hash":"backend-0f83fc7fadf18cc00d3d4616a2d868e596b8b9a3","datetime":"2025-12-03T02:59:20+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"fix: 暂时返回所有商店以确保测试/重构期间的可见性","modules":["backend"]},{"hash":"backend-c83e4186d315f21e54175583027124d7faccd79d","datetime":"2025-12-03T02:55:40+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"fix: 添加空值检查以防止打印作业当前副本和总副本为 null 的情况","modules":["backend"]},{"hash":"backend-444bd1ff00810c5140b93fd56df57c9da582ad81","datetime":"2025-12-03T02:53:19+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"fix: 添加空值检查以防止在广播打印进度时出现空指针异常","modules":["backend"]},{"hash":"backend-cd011986811869dbb3ac02ab0dc50785b9a4cbc2","datetime":"2025-12-03T02:50:57+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加打印代理字段及其 getter 和 setter 方法到 Printer 实体","modules":["backend"]},{"hash":"backend-d386699fbdff897f95c0557b3d0f3cd7d57be41f","datetime":"2025-12-03T02:42:18+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"refactor: 完全重构后端有关打印中心接口和逻辑，以符合完全重构的新打印中心","modules":["backend"]},{"hash":"backend-fe19ee04c2ff75db6e67fb930468c9901364278c","datetime":"2025-12-02T03:36:54+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 优化打印作业模拟服务，支持根据策略决定自动启动，完善作业完成逻辑","modules":["backend"]},{"hash":"backend-c7e2a82f8c8ac7e0f525ae264c1522c890ce8b69","datetime":"2025-12-02T03:25:02+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加打印作业项状态的 QUEUED 状态，优化打印作业模拟服务的状态管理","modules":["backend"]},{"hash":"backend-ca9e7471b508f33c6785de93076bacfba8cb84dc","datetime":"2025-12-02T03:05:39+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 在打印作业模拟服务中添加事务支持，确保打印模拟过程的原子性","modules":["backend"]},{"hash":"backend-61feb6b84d5d0c30c9472f9af0ce8e87cecbd6e5","datetime":"2025-12-02T02:57:38+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加打印作业开始事件，优化打印作业模拟服务以支持事件驱动处理","modules":["backend"]},{"hash":"backend-5198b6c6386fc97d64da489ba70761e2258c155e","datetime":"2025-12-02T02:27:08+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加获取特定打印任务状态的方法，优化WebSocket事件处理以保持前端同步","modules":["backend"]},{"hash":"backend-c49c94458a600e15b38354ef62a8d4e7ccda6840","datetime":"2025-11-30T01:06:46+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加批量获取打印任务详情的支持，优化订单信息查询","modules":["backend"]},{"hash":"backend-442c1e815dbb90f2bff5b401528f681e8ef3626d","datetime":"2025-11-29T23:08:23+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加WebSocket支持以推送打印任务状态更新，优化实时反馈","modules":["backend"]},{"hash":"backend-97d2879402474945101d883a814690e3684b8f5d","datetime":"2025-11-29T22:59:46+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 重构打印作业服务，优化订单处理逻辑，避免LazyInitializationException","modules":["backend"]},{"hash":"backend-73d4881887b57c3c8eecfc17752fcb1ae90becad","datetime":"2025-11-28T01:57:23+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加批量获取订单及其关联文件的方法，优化打印作业调度","modules":["backend"]},{"hash":"backend-175c94209fc18a39f5f4d944e9ddc071e8c350ee","datetime":"2025-11-28T01:13:07+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加批量调度打印任务的支持，优化多个订单的打印作业创建","modules":["backend"]},{"hash":"backend-591cf73b0433326d474930097b9ace78f47ec36a","datetime":"2025-11-27T22:36:10+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加WebSocket支持以管理打印任务的启动、暂停和进度报告","modules":["backend"]},{"hash":"backend-5a99dd1a054fef194c0f7924d31411b6c450613b","datetime":"2025-11-27T02:16:23+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 优化按ID查询订单的方法，使用JOIN FETCH确保文件列表立即加载，避免LazyInitializationException","modules":["backend"]},{"hash":"backend-a8c5d70ae01ab7542a29250401e650bc35ad6368","datetime":"2025-11-27T02:09:02+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加orderFiles到Order查询的@EntityGraph，优化订单详情获取","modules":["backend"]},{"hash":"backend-dca6997e5129bca0a208f423104b653f61f72be7","datetime":"2025-11-18T23:22:33+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加@EntityGraph注解以优化打印任务查询性能","modules":["backend"]},{"hash":"backend-7c60c91fdf942f0586b04d8bfa87bbee0b5437d0","datetime":"2025-11-18T23:14:44+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加打印任务调度响应DTO，优化打印任务返回数据结构","modules":["backend"]},{"hash":"backend-1f018cad9ba1d2f83a46da74a32e85d3fdac5d82","datetime":"2025-11-18T22:53:50+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加功能以支持向现有打印任务添加新文件，避免重复文件","modules":["backend"]},{"hash":"backend-da040c0e9b26e9b26c602259d8577572a8c85a4f","datetime":"2025-11-18T22:30:51+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 优化打印任务和订单服务逻辑，支持不同策略下的文件处理和状态转换","modules":["backend"]},{"hash":"backend-1845a5c04f7a1a07a787c8f764b0b11a092331f1","datetime":"2025-11-16T21:56:30+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加全局打印任务状态流功能，支持实时更新和监控","modules":["backend"]},{"hash":"backend-76fccdaf257cebe948cb73f680e0da5fd81dc5a3","datetime":"2025-11-14T05:21:14+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加打印任务相关的存储库和服务依赖，优化订单处理逻辑","modules":["backend"]},{"hash":"backend-38a21e657b1cdd66a5d42bd090522808eae1b311","datetime":"2025-11-14T04:57:36+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加标记打印任务已通知用户取件的方法，推动订单状态进入可取件阶段","modules":["backend"]},{"hash":"backend-f5a85971bc513164be418ef1c28274377b24e9c2","datetime":"2025-11-14T04:57:26+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加打印任务取件通知功能，更新相关 DTO 和服务逻辑","modules":["backend"]},{"hash":"backend-99ff776f3abaca8261b23c6c5758f1cc3a5f3e54","datetime":"2025-11-14T03:23:45+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 更新打印任务模拟服务，使用带订单文件的查询方法获取打印项","modules":["backend"]},{"hash":"backend-4c8e8afb2f142047a97aa61f97932e063522e510","datetime":"2025-11-14T03:17:16+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加订单和打印任务的 SSE 支持，实时推送状态更新","modules":["backend"]},{"hash":"backend-de1fdda78090a6ec1ca0d8753745ced2a49089e2","datetime":"2025-11-14T02:35:19+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 更新订单状态处理逻辑，支持从 PENDING_PROCESS 恢复到 PRINTING 状态","modules":["backend"]},{"hash":"backend-eac70ec886702541fbe67402d5400cb1b86cf2ac","datetime":"2025-11-14T02:26:43+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 支持通过查询参数传递令牌以处理 SSE 端点的身份验证","modules":["backend"]},{"hash":"backend-5e3fee239f7fab90b59dff6e2495213d54670f7b","datetime":"2025-11-14T01:52:47+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加 SSE 支持以流式传输打印任务更新，新增相关服务和事件","modules":["backend"]},{"hash":"backend-c5d86602ecf9c06f214031ca038a6e9ad6aa3fc5","datetime":"2025-11-13T04:55:18+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加打印任务数量支持，更新相关 DTO 和服务逻辑","modules":["backend"]},{"hash":"backend-98111603cca7ff377f671230c3b8c81f4a5c8abe","datetime":"2025-11-12T02:38:16+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"fix: 清理 OrderServiceImpl.java 中的多余空行","modules":["backend"]},{"hash":"backend-36c8b6ea1af30997818821ac00a79d915bca6b57","datetime":"2025-11-12T02:38:00+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加虚拟打印项支持，处理 PENDING_PROCESS 状态下的文件列表显示","modules":["backend"]},{"hash":"backend-2b06e04d6747f188cb0568fdd5c0bddea21b363f","datetime":"2025-11-12T02:14:41+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加手动打印失败、开始处理订单和部分打印接口，更新相关 DTO","modules":["backend"]},{"hash":"backend-6eae0ef5d75c1d8a06051148a45c6d4300c7ed70","datetime":"2025-11-11T02:05:09+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"fix: 更新 CORS 配置，添加对 PUT 和 DELETE 方法的支持","modules":["backend"]},{"hash":"backend-ce073da517eedab68e7a73c8365c66930b443495","datetime":"2025-11-11T01:25:26+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"fix: 更新打印任务查询方法，避免多个结果导致的 NonUniqueResultException","modules":["backend"]},{"hash":"backend-9112d97d87ff23daeb3a4f1438ebe18ea1be4469","datetime":"2025-11-10T19:50:58+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加全新的聚合式打印中心详情接口","modules":["backend"]},{"hash":"backend-fdfd6cae80e2555f32525514ae30eb0a25053395","datetime":"2025-11-09T18:13:58+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"fix: 统一接口返回为 Result，调整打印任务校验并避免 NPE","modules":["backend"]},{"hash":"backend-dbb786d3050953099653ee8ff22a53a801d44e01","datetime":"2025-11-09T17:25:15+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"fix: 统一打印接口响应并修正打印任务文件映射","modules":["backend"]},{"hash":"backend-438be94c36d71729d0586703b715c9c5baa93370","datetime":"2025-11-09T17:01:28+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"fix: getPrintJobStatusForOrder 在无打印任务时返回 null 而非抛出异常","modules":["backend"]},{"hash":"backend-854bb0c316a791f20b2d23ed9c10b05cc76bdd10","datetime":"2025-11-07T03:12:59+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"fix: 修复 V18 create-order-files 前置条件，新增兜底 changeset 并更新 db.changelog-master.xml 顺序","modules":["backend"]},{"hash":"backend-74e1378ae010974ebabaeaf3409243f6ba89a160","datetime":"2025-11-07T03:10:22+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"chore: 新增 order_files 数据库 changeset，调整 changelog 顺序并补充 OrderFile 的 @Table 注解","modules":["backend"]},{"hash":"backend-440e16d9f04e1b508d822277f7e577f74e5a0f88","datetime":"2025-11-07T03:05:34+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 新增打印任务子系统及相关 API/DB/依赖","modules":["backend"]},{"hash":"backend-c4825a5b99e33f197b622cbd02b5a8d6de78b063","datetime":"2025-11-06T11:23:35+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 打印中心新增任务详情接口及实现","modules":["backend"]},{"hash":"admin-cabafffcaa3c6de3b9f565d8636f77fcd37ff339","datetime":"2025-11-06T03:46:36+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat(order,printing-center,typings,locales): 添加订单页左侧店铺选择器并统一店铺参数适配","modules":["admin"]},{"hash":"backend-aaf853b9ffc5648164bdf82288e419bb8e0fa7b1","datetime":"2025-11-06T03:44:02+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"fix: 打印中心接口与服务改为单一 storeId 并完善统计/权限逻辑","modules":["backend"]},{"hash":"backend-baeea63c36cff87c84a52ae03416158f2f94ea8f","datetime":"2025-11-06T03:15:08+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"fix: 分页查询改为两阶段加载，避免 MultipleBagFetchException 并修正分页总数","modules":["backend"]},{"hash":"backend-a9c9899e26cd56822e7f53ee45becb23e7cea1b5","datetime":"2025-11-06T03:07:04+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 打印中心统计支持全局统计并基于管理员/店铺权限筛选","modules":["backend"]},{"hash":"backend-de674fc601838316f9fe0e22af27bbdbc3f7d8cf","datetime":"2025-11-06T01:47:11+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 打印中心统计仅计入需人工处理的履约类型并支持 APPOINTMENT","modules":["backend"]},{"hash":"admin-a54bc8dc2ea03f0d45526b6a70a189bffb89f1a6","datetime":"2025-11-05T03:35:46+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat(printing-center): 添加左侧店铺选择器并支持“所有店铺”；完善统计与数据适配","modules":["admin"]},{"hash":"backend-8903a06b26b311ffd9e88dbd4fe60517b74ae3f3","datetime":"2025-11-05T03:35:36+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 在打印中心统计中支持全局统计（当 storeIds 为空）并新增 countByStatusInAndUpdatedAtAfter","modules":["backend"]},{"hash":"backend-cbe1e0788bca1a381b361951893664119ea223f2","datetime":"2025-11-05T01:53:05+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 在打印中心统计中添加今日完成数（completedToday）","modules":["backend"]},{"hash":"admin-b9253051e6abf54b364c7ae1949242b40967a750","datetime":"2025-11-04T02:27:56+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat(printing-center,order): 在打印前将订单置为“打印中”，添加打印任务详情接口与类型并在 Drawer 使用详情数据","modules":["admin"]},{"hash":"admin-93719f5a06e74eb0bf20e6d62ea79000a3317920","datetime":"2025-10-31T23:44:03+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat(printing-center): 添加搜索面板、统计数据与相关类型/接口","modules":["admin"]},{"hash":"backend-4614e4b98ea897e79f7df436792b57048c4f6e9b","datetime":"2025-10-31T23:09:44+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加打印中心统计接口与实现","modules":["backend"]},{"hash":"admin-aea08a11c3b972d627deadaeb346a6e5b69465a7","datetime":"2025-10-31T02:39:22+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat(printing-center): 补全打印中心类型与接口，重构前端页面与数据适配，从 mock 数据迁移至真实后端。","modules":["admin"]},{"hash":"backend-6a379edd66325ee16b5d2e08e1d4e9f474e92cfe","datetime":"2025-10-31T01:31:25+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"fix: 在 getPaginatedOrders 的 Specification 中仅 LEFT fetch orderItems，避免 MultipleBagFetchException；基于 AdminProfile 限制店铺权限","modules":["backend"]},{"hash":"backend-e86416d2c9be6d77a017ed7015b4e6fe30ab0ca8","datetime":"2025-10-31T01:21:32+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"fix: 在 getPaginatedOrders 中批量加载 orderFiles 并简化权限过滤","modules":["backend"]},{"hash":"backend-2c00de68c73a47a21376a498ec2c88afbe268947","datetime":"2025-10-31T01:12:09+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"fix: 在 getPaginatedOrders 的 Specification 中对 orderFiles/orderItems 执行 LEFT fetch（仅在非 count 查询时）并设置 distinct，避免 LazyInitializationException 和重复结果","modules":["backend"]},{"hash":"backend-3fa72d4826af9fdb8ae2044dcc95048146d9f348","datetime":"2025-10-31T00:53:47+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"fix: 通过 PermissionRepository.findPermissionsByRoleId 从 DB 获取角色权限，避免使用可能缓存的 role.getPermissions() 集合","modules":["backend"]},{"hash":"backend-08e432c70166f55a828eea9e90301765971c95ad","datetime":"2025-10-31T00:17:13+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"fix: 将权限同步扫描范围限定为 controller.admin 包","modules":["backend"]},{"hash":"backend-06d9ed7a5b22f4d6dcd494282dbc6892eefd8847","datetime":"2025-10-30T23:47:36+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 统一订单备注为 userRemarks 并新增打印中心功能","modules":["backend"]},{"hash":"admin-345bed2892cbfc0bc02a24b54c30ff263155655f","datetime":"2025-10-28T02:34:58+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat(printing-center,order): 重构打印中心数据模型与表格展示，优化打印与详情交互","modules":["admin"]},{"hash":"admin-ba94c635de4fc436277b83cea43961e42296f59e","datetime":"2025-10-26T22:54:23+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 完成打印状态流转 mock 数据设计，解决了打印一个文件后的操作逻辑","modules":["admin"]},{"hash":"admin-2c7cbad2f3fcc48d641e4d337901cd279015258e","datetime":"2025-10-26T00:50:12+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 用 mock 数据初步完善了打印中心逻辑设计","modules":["admin"]},{"hash":"08af80e9a2e0cb7728918d7dc0aee47c2a3838a7","datetime":"2025-10-24T23:23:18+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"docs: 将“履约工作台”重命名为“打印中心”，重构页面设计与交付规范，补充前端组件、Mock 数据、后端接口与联调/验收流程","modules":[]},{"hash":"admin-e20a2b677e233d7047b261079e6a75d299449c13","datetime":"2025-10-24T23:22:52+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"stash: 搭建打印中心骨架，完成初步页面逻辑设计","modules":["admin"]},{"hash":"admin-efedf5a571015bf220156b94adb42a026fc77a06","datetime":"2025-10-23T23:36:51+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat(order): 支持列表排序并完善手动打印/确认收货能力","modules":["admin"]},{"hash":"0cbdb37fe26f31646e1efdf9f6e02e9c7238298b","datetime":"2025-10-23T23:32:14+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 完成打印工作台大致逻辑和功能设计","modules":[]},{"hash":"frontend-6e7827c532f2ea7a8285dda2e51db70f9efb6086","datetime":"2025-10-22T00:25:30+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 重构支付确认页履约/门店信息展示并支持 fulfillmentInfo 快照","modules":["frontend"]},{"hash":"backend-5cba8b686daae773793cd2e297e720ff8e9cca35","datetime":"2025-10-22T00:23:31+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"chore: 删除 changeset-V17-add-fulfillment-component-id.xml（移除为 orders 添加 fulfillment_component_id 的 Liquibase 变更集及回填脚本）","modules":["backend"]},{"hash":"backend-cda97ac384bf0ae6ebcaa624e742b0a24612e674","datetime":"2025-10-22T00:17:35+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 解决前端 PaymentConfirmation 不显示履约信息的问题","modules":["backend"]},{"hash":"backend-91f7f8c45495d263e97ded3eabdcda37f18024d0","datetime":"2025-10-21T23:31:44+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 为 OrderDetailV2 的 Fulfillment 添加 name/description 并在 Assembler 中根据 FulfillmentType 填充展示文案；扩展状态机允许 MANUAL_PRINTING -> COMPLETED 与 EXCEPTION -> MANUAL_PRINTING","modules":["backend"]},{"hash":"frontend-036a71acc39d1d2ad93fce2938f1c82c0b402e9a","datetime":"2025-10-21T22:32:07+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"refactor: 再次重构FulfilmentDisplay 样式，使其符合项目主题","modules":["frontend"]},{"hash":"backend-02e42d35f37d946b8d9cd5308bd60910fca225c9","datetime":"2025-10-21T13:54:46+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 支持按 fulfillmentInfo/userLevel/user 排序并统一处理非法排序字段","modules":["backend"]},{"hash":"backend-a9c2f714d1782445fbc4ea464472f7ac63d2c5ba","datetime":"2025-10-21T13:47:48+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 支持按 status 字段排序，容错非法排序字段并将默认排序改为按 createdAt 降序","modules":["backend"]},{"hash":"backend-33b9f2c780654c34e2b66445230ba33c9d59f090","datetime":"2025-10-21T13:42:20+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 支持订单列表按字段排序并在保存后初始化懒加载集合以支持 V2 DTO","modules":["backend"]},{"hash":"backend-76f6bba9f6ed06612555637ff09096fa05b4d6cc","datetime":"2025-10-21T13:24:37+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 允许管理员在 READY_FOR_PICKUP 状态手动确认送达 — 在 confirmDelivery 中将允许状态从仅 DELIVERING 扩展为 DELIVERING 与 READY_FOR_PICKUP，并同步更新异常提示","modules":["backend"]},{"hash":"backend-46bf05d2935a0875ae1946e99b72f859ee2ff3bf","datetime":"2025-10-21T13:22:31+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加管理员手动打印完成/失败接口与实现，并允许 EXCEPTION 状态取消订单","modules":["backend"]},{"hash":"admin-1a76e5f154a6f1cc3969b349b0eb9eb0be08870a","datetime":"2025-10-20T18:46:59+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 完善订单管理抽屉文件与操作和履约打印相关功能设计,新增预览与手动处理打印功能","modules":["admin"]},{"hash":"backend-bc95992810f474dc003702b16b60e39bec00bae3","datetime":"2025-10-20T18:01:39+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 允许 iframe 嵌入 — 在 SecurityConfig 中禁用 X-Frame-Options 并通过 Content-Security-Policy 添加 frame-ancestors ('self' 与 http/https://localhost:9527) 例外","modules":["backend"]},{"hash":"backend-f0323e1d99246798330cf7eb00c9be4398de2f3a","datetime":"2025-10-19T21:35:38+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 支持原始上传文件展示与下载","modules":["backend"]},{"hash":"backend-95dfa944672dee2dc0e6de11e0954ed4214e3b9d","datetime":"2025-10-19T20:57:23+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"fix: 在 convertToManualPrinting 中初始化懒加载集合以避免 LazyInitializationException — 在事务内触发加载 orderItems、user.username 和 store.name 后再保存","modules":["backend"]},{"hash":"backend-e7637e981559ff78b36f14ca9810ac76193dbd82","datetime":"2025-10-19T20:55:19+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 将 READY_FOR_DISPATCH 纳入处理状态并扩展状态迁移规则 — 规范注释引号；在 OrderStatus 中把 READY_FOR_DISPATCH 加入 PROCESSING_STATUSES；在 OrderStateServiceImpl 中将 ALLOWED 从 Map.of 改为 Map.ofEntries 并扩展允许迁移关系（PENDING_PROCESS 支持 MANUAL_PRINTING 等；PRINTING 支持 READY_FOR_DISPATCH/MANUAL_PRINTING/EXCEPTION；新增 MANUAL_PRINTING、READY_FOR_DISPATCH、EXCEPTION 的迁移配置）","modules":["backend"]},{"hash":"backend-b8aa05ec597923fab609637fbefb3933f788fbbc","datetime":"2025-10-19T20:45:06+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加管理员手动打印与转为手动处理接口与实现 — 新增 OrderController /convert-to-manual-printing 接口；调整 PrintJobController 手动打印路由为 /manual-print 并改名方法，创建 PrintJob 后调用 OrderService.manualPrintOrder 更新状态为 PRINTING 并处理非法状态；在 OrderService 接口新增 manualPrintOrder 与 convertToManualPrinting 方法；在 OrderServiceImpl 中实现两方法，包含状态校验、备注并通过 OrderStateService 迁移到 PRINTING / MANUAL_PRINTING；新增 OrderStatus.MANUAL_PRINTING 并将其加入 PROCESSING_STATUSES。","modules":["backend"]},{"hash":"backend-3ce0f9ad358d3d953e3b3162db43748354f927cc","datetime":"2025-10-19T16:48:53+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"fix: getOrderStats 修正订单统计逻辑 — 待处理仅计 PENDING_PROCESS；处理中改为显式状态列表（PRINTING/READY_FOR_PICKUP/DELIVERING）；异常改为判断 OrderStatus.EXCEPTION；调整调试日志输出","modules":["backend"]},{"hash":"backend-8faad0fab6ed52efab810ece22a3975a43a0a890","datetime":"2025-10-19T16:46:20+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"fix: getOrderStats 使用服务器本地时间计算今日范围；抽取权限过滤为 permissionSpec 并调整统计逻辑；按权限分别统计今日总单/待处理/处理中/异常订单；新增调试打印便于定位查询范围与权限","modules":["backend"]},{"hash":"backend-040900c0d1e1157f312907c8cb2463cedbd62671","datetime":"2025-10-19T14:54:49+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"fix: getOrderStats 使用 UTC 计算今日时间范围以匹配数据库存储；为 Store.fulfillmentSettings 添加 @JsonIgnore，防止 LAZY 加载时序列化问题","modules":["backend"]},{"hash":"backend-4345e35a16f81aee275179d4e8b7f970e6c9a418","datetime":"2025-10-19T14:38:47+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加管理员模拟打印完成/失败接口并实现；手动履约改为发送打印队列（状态改为 PRINTING）并支持 PENDING_PROCESS；将 EXCEPTION 纳入处理状态列表；在 OrderService 接口声明 mockPrint 方法，修复 printSpec 不出现的问题","modules":["backend"]},{"hash":"backend-283d05940991cf736871fd756c84e7683bcc4832","datetime":"2025-10-18T22:34:25+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"refactor: 移除订单排队位置相关代码","modules":["backend"]},{"hash":"frontend-ae42984638bf33122d85cd9717956c4f6943d122","datetime":"2025-10-17T10:45:55+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 优化排队信息显示，修复 uploadPrinting 批量设置失效的问题","modules":["frontend"]},{"hash":"backend-6290ddf1f45438b94b85c3c7cf89dc5e9b4d79fc","datetime":"2025-10-17T10:36:48+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 调整每张打印耗时为 3 秒","modules":["backend"]},{"hash":"backend-b5cb90c761e8c418415a2e96de773c5df5d32413","datetime":"2025-10-17T10:31:18+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"refactor: 用总页数替换基于份数的 ETA 计算并新增页数统计查询","modules":["backend"]},{"hash":"frontend-6401121778121deee89ef7d2c191a936e9dc8426","datetime":"2025-10-17T01:39:02+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 实现排队信息显示/远程履约支持标记，优化 uploadPrinting 上传和提交逻辑，替换排队与忙碌程度信息 mock 数据并对接后端","modules":["frontend"]},{"hash":"backend-21a495598cf505f62233254b0af14bbe5fa2aa8f","datetime":"2025-10-17T01:32:13+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"fix: 修复客户端履约方式接口映射，添加 {storeId} 路径参数以匹配 @PathVariable","modules":["backend"]},{"hash":"backend-4c7734cf110d91cc5d947d1dba72788acb5a6321","datetime":"2025-10-17T01:24:02+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 在店铺列表中添加 supportsRemoteDelivery 并支持按该字段筛选 refactor: 为 Store 实体添加 fulfillmentSettings 关联及 getter/setter feat: 新增 StoreFulfillmentSettingRepository 查询远程配送能力的方法 fix: OrderServiceImpl#createOrder 增加 items 校验与过滤（移除 pageCount=0/缺少 printSpec 的项），并在分布式锁创建时防止 NPE","modules":["backend"]},{"hash":"backend-b3c169286989953e7514049d75703c625e17032c","datetime":"2025-10-16T22:06:16+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 将订单 pricing 快照迁移到关系表并在系统中集成 order_items","modules":["backend"]},{"hash":"backend-de0803bb66072649379a148d2c08eb1462818ba9","datetime":"2025-10-16T21:24:32+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"refactor: 按模式分离店铺指标统计并改进批量查询逻辑","modules":["backend"]},{"hash":"backend-c46e663b7bb53ad7698f8cc7038ea9788dc8df3b","datetime":"2025-10-16T01:45:41+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"refactor: 优化 StoreMetricsServiceImpl#getStoresMetrics 实现，避免将 null 写入结果并提升鲁棒性","modules":["backend"]},{"hash":"backend-1331858e62b0c701c8166cbd4bac98f524e04198","datetime":"2025-10-16T01:39:55+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 支持批量获取店铺指标并批量化实现，调整相关 DTO 与仓库接口","modules":["backend"]},{"hash":"backend-8ea4ae8ed2efd23554232dfa7cedc0cc161dd9dd","datetime":"2025-10-16T01:03:42+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加店铺实时指标与订单排队位置信息","modules":["backend"]},{"hash":"frontend-6918386b03b7135794e2ca3742852eeca1227ef2","datetime":"2025-10-15T02:11:40+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 重构所有与店铺选择有关的样式显示以及功能,新增查看店铺繁忙程度&店铺基础履约种类的功能","modules":["frontend"]},{"hash":"5c7788e041d9b14eee0cb324f613b561da311ddf","datetime":"2025-10-14T23:56:51+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"docs: 新增履约规则与店铺负载 Mockup，补充基础到店免费规则并更新订单状态文档","modules":[]},{"hash":"admin-287d7a2983046ceea9239bc31b919bf8bd8c5913","datetime":"2025-10-12T23:52:35+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"refactor: 重构履约类别相关代码，支持 fulfillment-category 表以查询履约类别是单选还是复选，优化履约管理页面逻辑与样式","modules":["admin"]},{"hash":"frontend-5dce35e4a9f940c4019677da4d259214f96aa1d5","datetime":"2025-10-12T23:51:12+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 更新履约选项类别结构，优化默认选择逻辑，支持全新的fulfillment-category 逻辑","modules":["frontend"]},{"hash":"backend-e6d6e170a4597aa32d2b46aac2ff40e90eb09d49","datetime":"2025-10-12T23:04:45+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 优化 Fulfillment 相关服务，移除不必要的 QR 码参数并添加事务管理","modules":["backend"]},{"hash":"backend-17c68482174f174361c81acc7982ffe2a603f12b","datetime":"2025-10-12T18:39:52+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加获取所有履行类别的接口，并引入相关依赖","modules":["backend"]},{"hash":"backend-58c151b94f2adb632d93854ac2952a689a31cec7","datetime":"2025-10-12T14:27:35+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加 PIN_ONLY 自助打印组件，更新 fulfillment_components 表结构以包含更多字段","modules":["backend"]},{"hash":"backend-e69b6eedf0651787ad4d1b3e8904405f67366de6","datetime":"2025-10-12T14:19:45+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"fix: 再次回滚以确保回滚到正确的文件版本","modules":["backend"]},{"hash":"backend-40f0dee8a33052c6d60cebeab842a448cf19700a","datetime":"2025-10-12T14:10:10+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"fix: 回滚以修复报错","modules":["backend"]},{"hash":"backend-4d7e400e3ad1bc8fb9f1fcc23a8e292baa4f4810","datetime":"2025-10-12T14:02:49+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 更新 fulfillment_categories 和 fulfillment_components，修复数据迁移逻辑并添加新组件","modules":["backend"]},{"hash":"backend-1b60e5088272ee3e20c54353fe528309b1db1ff5","datetime":"2025-10-12T13:48:48+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 更新 fulfillment_categories 数据，调整分类和组件关联以支持新逻辑","modules":["backend"]},{"hash":"backend-624818b44ae726629a9c44b07711b71819f3d748","datetime":"2025-10-12T13:40:26+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 更新 fulfillment_components 中的 category_id 关联，添加更多组件键并处理空值分类","modules":["backend"]},{"hash":"backend-291b967a23a7fd509f923aa3f09895d6f18916d9","datetime":"2025-10-12T13:38:47+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 更新fulfillment_categories插入语句，支持重复键更新以确保数据一致性","modules":["backend"]},{"hash":"backend-faf57cf0c61461393f6e659d4eae47119ac22aa3","datetime":"2025-10-12T13:36:07+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 更新FulfillmentOption构造函数，添加CategoryInfo中的规则字段以支持新逻辑","modules":["backend"]},{"hash":"backend-74b57264a07f8c6fdbf29d66f8c1bb3f7ba66853","datetime":"2025-10-12T13:24:01+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 更新CategoryInfo类，添加SelectionRule字段并修改构造函数，更新相关服务实现以支持新字段","modules":["backend"]},{"hash":"backend-0f29c1d56de6ba632e87dcb2fd194451a216ce49","datetime":"2025-10-11T22:59:16+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 重构订单分类逻辑，添加FulfillmentCategory和CategoryInfo类，修改 `FulfillmentComponent` 实体，将 `category` 字段改造为与 `FulfillmentCategory` 的多对一关联。","modules":["backend"]},{"hash":"backend-be3dddcdfe1701db7bc220d7509eaf596fc901a5","datetime":"2025-10-10T22:57:07+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加确认送达接口，支持订单状态手动确认并处理幂等性","modules":["backend"]},{"hash":"backend-fc75dae06220386e5189ea19e2f1b73be8d6e932","datetime":"2025-10-10T21:56:58+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加配送和快递信息更新接口，支持订单状态变更和信息录入","modules":["backend"]},{"hash":"backend-a782ea258dd5058681c74c5c6208613cd977f71b","datetime":"2025-10-10T11:26:16+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 更新订单状态处理逻辑，支持预约订单转为QUEUE_NUMBER模式并记录状态日志","modules":["backend"]},{"hash":"backend-19517869ace09ee0d2a73caff19a7c070da0570c","datetime":"2025-10-10T10:50:06+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加订单更新时间字段，更新相关方法以支持状态更新","modules":["backend"]},{"hash":"backend-4f476910e9cb45308fd6adb5fd3d0b63f57184e4","datetime":"2025-10-10T10:30:59+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加自动完成订单的定时任务，支持超时订单的自动处理","modules":["backend"]},{"hash":"frontend-5c1324e97a9ed911b8e383ef5952f2e564c8493c","datetime":"2025-10-09T23:38:55+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加 useOrderStatusMeta hook，优化订单状态和履约类型的元数据处理，更新相关组件以使用新逻辑","modules":["frontend"]},{"hash":"9641a3a37c886a5992e8bf5004e2911b7b6fe285","datetime":"2025-10-07T23:36:46+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 为下一阶段开发设计全新的任务指引","modules":[]},{"hash":"fbca8974fc0c5fbca775d9babd35fbf9ad8c4e4d","datetime":"2025-10-06T23:24:46+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 同步订单-支付-订单状态的文档以及mockup 页面","modules":[]},{"hash":"admin-7a4b164c71f2ecfbd2e4e4a048bb94d1b976836d","datetime":"2025-10-06T23:22:44+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 增强履约组件管理以及订单管理，完善组件设计逻辑，分离履约组件configMode 的职责","modules":["admin"]},{"hash":"frontend-84d506b987eaae851807961f618e323d04ef6806","datetime":"2025-10-05T22:04:44+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 增强订单履约信息展示，支持状态变更处理与打印进度显示，优化房间号输入逻辑","modules":["frontend"]},{"hash":"backend-a8182e952a841486e49ae0fe44a467ad3cbc88c3","datetime":"2025-10-04T20:25:55+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加立即开始打印的接口，支持用户提前到店打印订单","modules":["backend"]},{"hash":"backend-4fc421d66039b7744ad0e8f79062fcd04e174405","datetime":"2025-10-03T11:25:40+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 处理预约时间字段，支持String和Long类型的转换","modules":["backend"]},{"hash":"frontend-0befb7ea05451d97b311e69f8b1b45cc884bd95e","datetime":"2025-10-02T23:45:12+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 支持后端特殊状态流转，并提供订单页面对应 UI以及功能，完善支付确认与支付结果页的数据逻辑与样式","modules":["frontend"]},{"hash":"backend-1a0c167fa8d4932368bcdeb526a775ea6f7cd530","datetime":"2025-10-02T23:20:54+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加订单详情DTO的getter和setter方法，以支持数据访问","modules":["backend"]},{"hash":"backend-032ebba543209207f5e02e220a24c9eec965cac8","datetime":"2025-10-02T22:36:54+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 更新订单DTO，添加创建时间和过期时间字段，并在构造函数中进行初始化","modules":["backend"]},{"hash":"backend-16a81dcc805602140cc5c5b5969527a12e0873ba","datetime":"2025-10-02T21:47:39+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 在响应数据中添加创建时间和过期时间字段，并在订单详情中设置相应值","modules":["backend"]},{"hash":"backend-f8715f65d01d8b16322e79f4cbf405680c88f97a","datetime":"2025-10-02T21:17:27+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加过期时间字段到订单详情DTO，并在构造函数中初始化该字段","modules":["backend"]},{"hash":"backend-238fcd8524e6e74385f615a873936215bb7ac900","datetime":"2025-10-02T20:48:00+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加创建时间字段到订单响应DTO，并在订单服务中设置该字段","modules":["backend"]},{"hash":"backend-d41d6333ff0f449e7d0b23685afd1ed176f62008","datetime":"2025-10-02T20:30:34+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加订单取消功能，支持用户主动取消待支付订单，添加客户端订单接口支付时间与下单时间字段","modules":["backend"]},{"hash":"backend-0648f8c9f6972e3500da2fdebdb63df8f13ed6c7","datetime":"2025-10-02T02:18:03+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加履约费用纳入折扣计算的逻辑，优化优惠券使用规则","modules":["backend"]},{"hash":"frontend-b9880d7a15badbac6f00972c4c370a6eff2ae8b0","datetime":"2025-10-02T02:17:06+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 完成订单与订单详情页的重构设计。并完善支付确认，支付结果页的履约信息展示区域，支持二维码履约显示。","modules":["frontend"]},{"hash":"backend-47f3648db827db37601a6246f6b387e4dd1d8422","datetime":"2025-10-02T01:52:57+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 优化订单详情V2的履约信息处理，确保准确性并移除不再使用的字段","modules":["backend"]},{"hash":"backend-7dd92f751aab57cc129192f02b7f272a0431617c","datetime":"2025-10-02T01:40:39+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加服务组件批量查询功能，优化分类汇总逻辑","modules":["backend"]},{"hash":"backend-8d18dbf831ad3bf904549785a80a1aa54a8f64a1","datetime":"2025-10-02T01:19:04+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 优化错误处理，增强获取订单详情和服务组件分类信息的稳定性","modules":["backend"]},{"hash":"backend-67bd52c3418d096c37cc7463ba1f7e8464113171","datetime":"2025-10-02T01:09:59+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加分类汇总功能，优化订单详情V2的价格明细处理逻辑","modules":["backend"]},{"hash":"backend-0a2750eaf4960c44467b14006c1d49b3d0cb718d","datetime":"2025-10-01T23:56:13+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加订单详情V2支持，优化订单获取逻辑，动态生成缺失的履约码","modules":["backend"]},{"hash":"backend-0db8f96ca05891b0f35ff84b9e17d371117bb2f3","datetime":"2025-09-30T01:31:57+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 更新订单服务，优化履约信息生成逻辑，确保嵌套对象不为 null，并根据履约类型保存生成的代码","modules":["backend"]},{"hash":"backend-af1dcd7a53b9435f1898c0050f3b56939a48808a","datetime":"2025-09-30T00:47:02+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 重构取货码生成逻辑，优化根据履约类型生成取件码和相关信息","modules":["backend"]},{"hash":"backend-55fef95ea10d3cfc49385b7c65d63bd215574602","datetime":"2025-09-29T19:51:48+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 重构 PrintJobController，优化错误处理和权限验证逻辑，添加对 AuthService 的依赖","modules":["backend"]},{"hash":"backend-ad2597d9d62bf048e9c8d7f025527a80403bb9cd","datetime":"2025-09-29T19:20:24+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加处理成功支付的方法，重构支付服务以支持订单状态转换和履约码生成","modules":["backend"]},{"hash":"backend-c91f7ac0547da7180106802e2c156d7a758de2f5","datetime":"2025-09-29T18:04:16+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加时间线信息到 FulfillmentDetailDTO，重构 OrderDTO 和 OrderServiceImpl 以支持新结构","modules":["backend"]},{"hash":"frontend-c644da68233657b2f9a28d18055241d46d8e31b5","datetime":"2025-09-29T02:10:02+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 优化文件打印规格更新逻辑，确保本地文件与后端数据同步；更新订单详情页履约信息处理，暂时使用 mock 数据演示全新展示效果","modules":["frontend"]},{"hash":"backend-d0b8de986dc3c09fed01621367d9947793db998e","datetime":"2025-09-28T16:36:55+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加 JTI 服务以支持一次性令牌消费和预留，重构相关控制器和服务逻辑","modules":["backend"]},{"hash":"backend-dab7271e10ddd6b46f495e47725764ecbdd02b70","datetime":"2025-09-28T15:01:49+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加二维码数据生成逻辑，优化订单履约信息处理","modules":["backend"]},{"hash":"backend-22cfb4223c50ea49765906b5a22856093f176be1","datetime":"2025-09-28T13:58:08+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加对 FulfillmentDetailDTO 中 PickupInfo 和 DeliveryInfo 类的 JsonIgnoreProperties 注解，以忽略未知属性","modules":["backend"]},{"hash":"backend-72078ffb7215a2ed5dc7888a665a5b2eb239c681","datetime":"2025-09-28T13:47:06+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加通过提货码查询订单的新方法，优化原有查询逻辑","modules":["backend"]},{"hash":"backend-c0343190023794eddac08d2f5be8b99fa45f81e0","datetime":"2025-09-28T13:44:40+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"refactor: 重构前端相关订单接口返回结构，支持新的二维码生成逻辑","modules":["backend"]},{"hash":"backend-c0c4f0a6def5a5ddb8e0ee9ce02589961e495bd7","datetime":"2025-09-28T13:07:44+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 移除清理订单数据变更集中对 order_status_history 表的删除操作","modules":["backend"]},{"hash":"backend-42a25126ba132f5c4cc3369e23b92ae086151b33","datetime":"2025-09-28T13:06:31+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 修复注释位置，确保在清理订单数据的变更集中正确描述外键约束","modules":["backend"]},{"hash":"backend-dc0e6d74ebce56b0eec630ad26e605ab276f2170","datetime":"2025-09-28T13:04:01+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 更新清理订单数据的变更集，添加预条件以确保在 MySQL 中正确执行","modules":["backend"]},{"hash":"backend-6b593a36fa3d9db84b1568f35f3396e37acb2c0a","datetime":"2025-09-28T12:57:59+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 更新 PrintJobController 和 PermissionServiceImpl，添加权限注解并优化权限检查逻辑, 设置订单清理（此 commit 不适合日常使用）","modules":["backend"]},{"hash":"backend-908017a7475eed20a827ba2fb215cd2940b5a8b6","datetime":"2025-09-28T02:19:11+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加回填 numeric_pickup_code 的变更集，从 fulfillment_info JSON 中提取现有订单的取件码","modules":["backend"]},{"hash":"backend-bdd5899ab7816b0867b7c6ce16e207974cda7242","datetime":"2025-09-28T02:18:23+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 重构订单服务中的取件码生成逻辑，确保在保存订单后生成并合并取件码和二维码信息","modules":["backend"]},{"hash":"backend-8cf21f71b2410437cbb98a5ec8acd0e9dee103dd","datetime":"2025-09-28T02:06:38+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 在订单服务中生成并设置 numericPickupCode，更新履约信息以支持基于 PIN 码的履约","modules":["backend"]},{"hash":"backend-188bd56b96990f03e1dc5fb0ec027be72229227c","datetime":"2025-09-28T01:54:34+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加 numeric_pickup_code 字段及索引到订单表，以支持基于 PIN 码的履约","modules":["backend"]},{"hash":"backend-6c835caefbb884e6426c876ad8e453ee2a6c9f2d","datetime":"2025-09-28T01:37:44+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加通过 PIN 码获取订单的功能，更新相关服务和控制器逻辑","modules":["backend"]},{"hash":"backend-ef70b039500827b005f528df0c408b215c6dfff3","datetime":"2025-09-27T21:12:33+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"refactor: 更新订单相关查询，使用 OrderStatus 枚举替代字符串状态，增强类型安全性","modules":["backend"]},{"hash":"backend-430a86af4b2677bc6051690fb623dda694553d97","datetime":"2025-09-27T21:04:09+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"refactor: 重构打印和履约相关代码，使用 Token 替代原本的二维码实现，支持二维码自动履约，取消测试用自动完成支付","modules":["backend"]},{"hash":"backend-537bc0163f88b41c6bc1e4f97b65fc89d5c2e284","datetime":"2025-09-26T21:35:16+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 在 FulfillmentComponentDTO 和 FulfillmentComponentServiceImpl 中添加 fulfillmentType 字段及其处理逻辑","modules":["backend"]},{"hash":"backend-0450dc32ea6992595337b1073eb5c55e055894ff","datetime":"2025-09-26T18:09:36+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"refactor: 重构有关履约组件的逻辑，使用新字段fulfillmentType 分离原 configMode 的多重含义","modules":["backend"]}],"_lite":true,"source":"local-git"}