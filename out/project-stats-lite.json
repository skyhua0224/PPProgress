{"generatedAt":"2025-11-10T19:23:55.687Z","repo":"main","modulesAllowed":["admin","backend","frontend"],"windows":{"trendDays":30,"moduleDays":30,"weekDays":7},"commitTrend":[{"date":"2025-10-12","count":12},{"date":"2025-10-13","count":1},{"date":"2025-10-14","count":2},{"date":"2025-10-15","count":3},{"date":"2025-10-16","count":5},{"date":"2025-10-17","count":3},{"date":"2025-10-18","count":1},{"date":"2025-10-19","count":8},{"date":"2025-10-20","count":2},{"date":"2025-10-21","count":10},{"date":"2025-10-22","count":0},{"date":"2025-10-23","count":2},{"date":"2025-10-24","count":1},{"date":"2025-10-25","count":2},{"date":"2025-10-26","count":1},{"date":"2025-10-27","count":1},{"date":"2025-10-28","count":0},{"date":"2025-10-29","count":0},{"date":"2025-10-30","count":7},{"date":"2025-10-31","count":2},{"date":"2025-11-01","count":0},{"date":"2025-11-02","count":0},{"date":"2025-11-03","count":1},{"date":"2025-11-04","count":2},{"date":"2025-11-05","count":5},{"date":"2025-11-06","count":4},{"date":"2025-11-07","count":0},{"date":"2025-11-08","count":0},{"date":"2025-11-09","count":3},{"date":"2025-11-10","count":2}],"weekTotals":{"commits":17,"added":3071,"removed":1998,"files":0,"activeModules":2,"byModule":{"admin":{"added":237,"removed":148,"commits":2},"backend":{"added":2834,"removed":1850,"commits":15}}},"monthTotals":{"commits":78,"added":16213,"removed":6237,"files":0,"activeModules":3,"byModule":{"admin":{"added":6238,"removed":1165,"commits":12},"backend":{"added":6187,"removed":2434,"commits":60},"frontend":{"added":3788,"removed":2638,"commits":6}}},"yearTotals":{"commits":1034,"added":574389,"removed":592612,"files":0,"activeModules":3,"byModule":{"admin":{"added":86568,"removed":48627,"commits":209},"backend":{"added":81924,"removed":31004,"commits":687},"frontend":{"added":405897,"removed":512981,"commits":138}}},"recentCommits":[{"hash":"backend-ce073da517eedab68e7a73c8365c66930b443495","datetime":"2025-11-11T01:25:26+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"fix: 更新打印任务查询方法，避免多个结果导致的 NonUniqueResultException","modules":["backend"]},{"hash":"backend-9112d97d87ff23daeb3a4f1438ebe18ea1be4469","datetime":"2025-11-10T19:50:58+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加全新的聚合式打印中心详情接口","modules":["backend"]},{"hash":"backend-fdfd6cae80e2555f32525514ae30eb0a25053395","datetime":"2025-11-09T18:13:58+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"fix: 统一接口返回为 Result，调整打印任务校验并避免 NPE","modules":["backend"]},{"hash":"backend-dbb786d3050953099653ee8ff22a53a801d44e01","datetime":"2025-11-09T17:25:15+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"fix: 统一打印接口响应并修正打印任务文件映射","modules":["backend"]},{"hash":"backend-438be94c36d71729d0586703b715c9c5baa93370","datetime":"2025-11-09T17:01:28+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"fix: getPrintJobStatusForOrder 在无打印任务时返回 null 而非抛出异常","modules":["backend"]},{"hash":"backend-854bb0c316a791f20b2d23ed9c10b05cc76bdd10","datetime":"2025-11-07T03:12:59+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"fix: 修复 V18 create-order-files 前置条件，新增兜底 changeset 并更新 db.changelog-master.xml 顺序","modules":["backend"]},{"hash":"backend-74e1378ae010974ebabaeaf3409243f6ba89a160","datetime":"2025-11-07T03:10:22+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"chore: 新增 order_files 数据库 changeset，调整 changelog 顺序并补充 OrderFile 的 @Table 注解","modules":["backend"]},{"hash":"backend-440e16d9f04e1b508d822277f7e577f74e5a0f88","datetime":"2025-11-07T03:05:34+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 新增打印任务子系统及相关 API/DB/依赖","modules":["backend"]},{"hash":"backend-c4825a5b99e33f197b622cbd02b5a8d6de78b063","datetime":"2025-11-06T11:23:35+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 打印中心新增任务详情接口及实现","modules":["backend"]},{"hash":"admin-cabafffcaa3c6de3b9f565d8636f77fcd37ff339","datetime":"2025-11-06T03:46:36+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat(order,printing-center,typings,locales): 添加订单页左侧店铺选择器并统一店铺参数适配","modules":["admin"]},{"hash":"backend-aaf853b9ffc5648164bdf82288e419bb8e0fa7b1","datetime":"2025-11-06T03:44:02+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"fix: 打印中心接口与服务改为单一 storeId 并完善统计/权限逻辑","modules":["backend"]},{"hash":"backend-baeea63c36cff87c84a52ae03416158f2f94ea8f","datetime":"2025-11-06T03:15:08+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"fix: 分页查询改为两阶段加载，避免 MultipleBagFetchException 并修正分页总数","modules":["backend"]},{"hash":"backend-a9c9899e26cd56822e7f53ee45becb23e7cea1b5","datetime":"2025-11-06T03:07:04+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 打印中心统计支持全局统计并基于管理员/店铺权限筛选","modules":["backend"]},{"hash":"backend-de674fc601838316f9fe0e22af27bbdbc3f7d8cf","datetime":"2025-11-06T01:47:11+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 打印中心统计仅计入需人工处理的履约类型并支持 APPOINTMENT","modules":["backend"]},{"hash":"admin-a54bc8dc2ea03f0d45526b6a70a189bffb89f1a6","datetime":"2025-11-05T03:35:46+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat(printing-center): 添加左侧店铺选择器并支持“所有店铺”；完善统计与数据适配","modules":["admin"]},{"hash":"backend-8903a06b26b311ffd9e88dbd4fe60517b74ae3f3","datetime":"2025-11-05T03:35:36+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 在打印中心统计中支持全局统计（当 storeIds 为空）并新增 countByStatusInAndUpdatedAtAfter","modules":["backend"]},{"hash":"backend-cbe1e0788bca1a381b361951893664119ea223f2","datetime":"2025-11-05T01:53:05+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 在打印中心统计中添加今日完成数（completedToday）","modules":["backend"]},{"hash":"admin-b9253051e6abf54b364c7ae1949242b40967a750","datetime":"2025-11-04T02:27:56+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat(printing-center,order): 在打印前将订单置为“打印中”，添加打印任务详情接口与类型并在 Drawer 使用详情数据","modules":["admin"]},{"hash":"admin-93719f5a06e74eb0bf20e6d62ea79000a3317920","datetime":"2025-10-31T23:44:03+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat(printing-center): 添加搜索面板、统计数据与相关类型/接口","modules":["admin"]},{"hash":"backend-4614e4b98ea897e79f7df436792b57048c4f6e9b","datetime":"2025-10-31T23:09:44+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加打印中心统计接口与实现","modules":["backend"]},{"hash":"admin-aea08a11c3b972d627deadaeb346a6e5b69465a7","datetime":"2025-10-31T02:39:22+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat(printing-center): 补全打印中心类型与接口，重构前端页面与数据适配，从 mock 数据迁移至真实后端。","modules":["admin"]},{"hash":"backend-6a379edd66325ee16b5d2e08e1d4e9f474e92cfe","datetime":"2025-10-31T01:31:25+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"fix: 在 getPaginatedOrders 的 Specification 中仅 LEFT fetch orderItems，避免 MultipleBagFetchException；基于 AdminProfile 限制店铺权限","modules":["backend"]},{"hash":"backend-e86416d2c9be6d77a017ed7015b4e6fe30ab0ca8","datetime":"2025-10-31T01:21:32+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"fix: 在 getPaginatedOrders 中批量加载 orderFiles 并简化权限过滤","modules":["backend"]},{"hash":"backend-2c00de68c73a47a21376a498ec2c88afbe268947","datetime":"2025-10-31T01:12:09+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"fix: 在 getPaginatedOrders 的 Specification 中对 orderFiles/orderItems 执行 LEFT fetch（仅在非 count 查询时）并设置 distinct，避免 LazyInitializationException 和重复结果","modules":["backend"]},{"hash":"backend-3fa72d4826af9fdb8ae2044dcc95048146d9f348","datetime":"2025-10-31T00:53:47+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"fix: 通过 PermissionRepository.findPermissionsByRoleId 从 DB 获取角色权限，避免使用可能缓存的 role.getPermissions() 集合","modules":["backend"]},{"hash":"backend-08e432c70166f55a828eea9e90301765971c95ad","datetime":"2025-10-31T00:17:13+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"fix: 将权限同步扫描范围限定为 controller.admin 包","modules":["backend"]},{"hash":"backend-06d9ed7a5b22f4d6dcd494282dbc6892eefd8847","datetime":"2025-10-30T23:47:36+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 统一订单备注为 userRemarks 并新增打印中心功能","modules":["backend"]},{"hash":"admin-345bed2892cbfc0bc02a24b54c30ff263155655f","datetime":"2025-10-28T02:34:58+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat(printing-center,order): 重构打印中心数据模型与表格展示，优化打印与详情交互","modules":["admin"]},{"hash":"admin-ba94c635de4fc436277b83cea43961e42296f59e","datetime":"2025-10-26T22:54:23+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 完成打印状态流转 mock 数据设计，解决了打印一个文件后的操作逻辑","modules":["admin"]},{"hash":"admin-2c7cbad2f3fcc48d641e4d337901cd279015258e","datetime":"2025-10-26T00:50:12+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 用 mock 数据初步完善了打印中心逻辑设计","modules":["admin"]},{"hash":"08af80e9a2e0cb7728918d7dc0aee47c2a3838a7","datetime":"2025-10-24T23:23:18+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"docs: 将“履约工作台”重命名为“打印中心”，重构页面设计与交付规范，补充前端组件、Mock 数据、后端接口与联调/验收流程","modules":[]},{"hash":"admin-e20a2b677e233d7047b261079e6a75d299449c13","datetime":"2025-10-24T23:22:52+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"stash: 搭建打印中心骨架，完成初步页面逻辑设计","modules":["admin"]},{"hash":"admin-efedf5a571015bf220156b94adb42a026fc77a06","datetime":"2025-10-23T23:36:51+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat(order): 支持列表排序并完善手动打印/确认收货能力","modules":["admin"]},{"hash":"0cbdb37fe26f31646e1efdf9f6e02e9c7238298b","datetime":"2025-10-23T23:32:14+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 完成打印工作台大致逻辑和功能设计","modules":[]},{"hash":"frontend-6e7827c532f2ea7a8285dda2e51db70f9efb6086","datetime":"2025-10-22T00:25:30+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 重构支付确认页履约/门店信息展示并支持 fulfillmentInfo 快照","modules":["frontend"]},{"hash":"backend-5cba8b686daae773793cd2e297e720ff8e9cca35","datetime":"2025-10-22T00:23:31+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"chore: 删除 changeset-V17-add-fulfillment-component-id.xml（移除为 orders 添加 fulfillment_component_id 的 Liquibase 变更集及回填脚本）","modules":["backend"]},{"hash":"backend-cda97ac384bf0ae6ebcaa624e742b0a24612e674","datetime":"2025-10-22T00:17:35+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 解决前端 PaymentConfirmation 不显示履约信息的问题","modules":["backend"]},{"hash":"backend-91f7f8c45495d263e97ded3eabdcda37f18024d0","datetime":"2025-10-21T23:31:44+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 为 OrderDetailV2 的 Fulfillment 添加 name/description 并在 Assembler 中根据 FulfillmentType 填充展示文案；扩展状态机允许 MANUAL_PRINTING -> COMPLETED 与 EXCEPTION -> MANUAL_PRINTING","modules":["backend"]},{"hash":"frontend-036a71acc39d1d2ad93fce2938f1c82c0b402e9a","datetime":"2025-10-21T22:32:07+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"refactor: 再次重构FulfilmentDisplay 样式，使其符合项目主题","modules":["frontend"]},{"hash":"backend-02e42d35f37d946b8d9cd5308bd60910fca225c9","datetime":"2025-10-21T13:54:46+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 支持按 fulfillmentInfo/userLevel/user 排序并统一处理非法排序字段","modules":["backend"]},{"hash":"backend-a9c2f714d1782445fbc4ea464472f7ac63d2c5ba","datetime":"2025-10-21T13:47:48+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 支持按 status 字段排序，容错非法排序字段并将默认排序改为按 createdAt 降序","modules":["backend"]},{"hash":"backend-33b9f2c780654c34e2b66445230ba33c9d59f090","datetime":"2025-10-21T13:42:20+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 支持订单列表按字段排序并在保存后初始化懒加载集合以支持 V2 DTO","modules":["backend"]},{"hash":"backend-76f6bba9f6ed06612555637ff09096fa05b4d6cc","datetime":"2025-10-21T13:24:37+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 允许管理员在 READY_FOR_PICKUP 状态手动确认送达 — 在 confirmDelivery 中将允许状态从仅 DELIVERING 扩展为 DELIVERING 与 READY_FOR_PICKUP，并同步更新异常提示","modules":["backend"]},{"hash":"backend-46bf05d2935a0875ae1946e99b72f859ee2ff3bf","datetime":"2025-10-21T13:22:31+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加管理员手动打印完成/失败接口与实现，并允许 EXCEPTION 状态取消订单","modules":["backend"]},{"hash":"admin-1a76e5f154a6f1cc3969b349b0eb9eb0be08870a","datetime":"2025-10-20T18:46:59+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 完善订单管理抽屉文件与操作和履约打印相关功能设计,新增预览与手动处理打印功能","modules":["admin"]},{"hash":"backend-bc95992810f474dc003702b16b60e39bec00bae3","datetime":"2025-10-20T18:01:39+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 允许 iframe 嵌入 — 在 SecurityConfig 中禁用 X-Frame-Options 并通过 Content-Security-Policy 添加 frame-ancestors ('self' 与 http/https://localhost:9527) 例外","modules":["backend"]},{"hash":"backend-f0323e1d99246798330cf7eb00c9be4398de2f3a","datetime":"2025-10-19T21:35:38+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 支持原始上传文件展示与下载","modules":["backend"]},{"hash":"backend-95dfa944672dee2dc0e6de11e0954ed4214e3b9d","datetime":"2025-10-19T20:57:23+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"fix: 在 convertToManualPrinting 中初始化懒加载集合以避免 LazyInitializationException — 在事务内触发加载 orderItems、user.username 和 store.name 后再保存","modules":["backend"]},{"hash":"backend-e7637e981559ff78b36f14ca9810ac76193dbd82","datetime":"2025-10-19T20:55:19+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 将 READY_FOR_DISPATCH 纳入处理状态并扩展状态迁移规则 — 规范注释引号；在 OrderStatus 中把 READY_FOR_DISPATCH 加入 PROCESSING_STATUSES；在 OrderStateServiceImpl 中将 ALLOWED 从 Map.of 改为 Map.ofEntries 并扩展允许迁移关系（PENDING_PROCESS 支持 MANUAL_PRINTING 等；PRINTING 支持 READY_FOR_DISPATCH/MANUAL_PRINTING/EXCEPTION；新增 MANUAL_PRINTING、READY_FOR_DISPATCH、EXCEPTION 的迁移配置）","modules":["backend"]},{"hash":"backend-b8aa05ec597923fab609637fbefb3933f788fbbc","datetime":"2025-10-19T20:45:06+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加管理员手动打印与转为手动处理接口与实现 — 新增 OrderController /convert-to-manual-printing 接口；调整 PrintJobController 手动打印路由为 /manual-print 并改名方法，创建 PrintJob 后调用 OrderService.manualPrintOrder 更新状态为 PRINTING 并处理非法状态；在 OrderService 接口新增 manualPrintOrder 与 convertToManualPrinting 方法；在 OrderServiceImpl 中实现两方法，包含状态校验、备注并通过 OrderStateService 迁移到 PRINTING / MANUAL_PRINTING；新增 OrderStatus.MANUAL_PRINTING 并将其加入 PROCESSING_STATUSES。","modules":["backend"]},{"hash":"backend-3ce0f9ad358d3d953e3b3162db43748354f927cc","datetime":"2025-10-19T16:48:53+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"fix: getOrderStats 修正订单统计逻辑 — 待处理仅计 PENDING_PROCESS；处理中改为显式状态列表（PRINTING/READY_FOR_PICKUP/DELIVERING）；异常改为判断 OrderStatus.EXCEPTION；调整调试日志输出","modules":["backend"]},{"hash":"backend-8faad0fab6ed52efab810ece22a3975a43a0a890","datetime":"2025-10-19T16:46:20+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"fix: getOrderStats 使用服务器本地时间计算今日范围；抽取权限过滤为 permissionSpec 并调整统计逻辑；按权限分别统计今日总单/待处理/处理中/异常订单；新增调试打印便于定位查询范围与权限","modules":["backend"]},{"hash":"backend-040900c0d1e1157f312907c8cb2463cedbd62671","datetime":"2025-10-19T14:54:49+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"fix: getOrderStats 使用 UTC 计算今日时间范围以匹配数据库存储；为 Store.fulfillmentSettings 添加 @JsonIgnore，防止 LAZY 加载时序列化问题","modules":["backend"]},{"hash":"backend-4345e35a16f81aee275179d4e8b7f970e6c9a418","datetime":"2025-10-19T14:38:47+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加管理员模拟打印完成/失败接口并实现；手动履约改为发送打印队列（状态改为 PRINTING）并支持 PENDING_PROCESS；将 EXCEPTION 纳入处理状态列表；在 OrderService 接口声明 mockPrint 方法，修复 printSpec 不出现的问题","modules":["backend"]},{"hash":"backend-283d05940991cf736871fd756c84e7683bcc4832","datetime":"2025-10-18T22:34:25+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"refactor: 移除订单排队位置相关代码","modules":["backend"]},{"hash":"frontend-ae42984638bf33122d85cd9717956c4f6943d122","datetime":"2025-10-17T10:45:55+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 优化排队信息显示，修复 uploadPrinting 批量设置失效的问题","modules":["frontend"]},{"hash":"backend-6290ddf1f45438b94b85c3c7cf89dc5e9b4d79fc","datetime":"2025-10-17T10:36:48+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 调整每张打印耗时为 3 秒","modules":["backend"]},{"hash":"backend-b5cb90c761e8c418415a2e96de773c5df5d32413","datetime":"2025-10-17T10:31:18+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"refactor: 用总页数替换基于份数的 ETA 计算并新增页数统计查询","modules":["backend"]},{"hash":"frontend-6401121778121deee89ef7d2c191a936e9dc8426","datetime":"2025-10-17T01:39:02+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 实现排队信息显示/远程履约支持标记，优化 uploadPrinting 上传和提交逻辑，替换排队与忙碌程度信息 mock 数据并对接后端","modules":["frontend"]},{"hash":"backend-21a495598cf505f62233254b0af14bbe5fa2aa8f","datetime":"2025-10-17T01:32:13+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"fix: 修复客户端履约方式接口映射，添加 {storeId} 路径参数以匹配 @PathVariable","modules":["backend"]},{"hash":"backend-4c7734cf110d91cc5d947d1dba72788acb5a6321","datetime":"2025-10-17T01:24:02+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 在店铺列表中添加 supportsRemoteDelivery 并支持按该字段筛选 refactor: 为 Store 实体添加 fulfillmentSettings 关联及 getter/setter feat: 新增 StoreFulfillmentSettingRepository 查询远程配送能力的方法 fix: OrderServiceImpl#createOrder 增加 items 校验与过滤（移除 pageCount=0/缺少 printSpec 的项），并在分布式锁创建时防止 NPE","modules":["backend"]},{"hash":"backend-b3c169286989953e7514049d75703c625e17032c","datetime":"2025-10-16T22:06:16+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 将订单 pricing 快照迁移到关系表并在系统中集成 order_items","modules":["backend"]},{"hash":"backend-de0803bb66072649379a148d2c08eb1462818ba9","datetime":"2025-10-16T21:24:32+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"refactor: 按模式分离店铺指标统计并改进批量查询逻辑","modules":["backend"]},{"hash":"backend-c46e663b7bb53ad7698f8cc7038ea9788dc8df3b","datetime":"2025-10-16T01:45:41+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"refactor: 优化 StoreMetricsServiceImpl#getStoresMetrics 实现，避免将 null 写入结果并提升鲁棒性","modules":["backend"]},{"hash":"backend-1331858e62b0c701c8166cbd4bac98f524e04198","datetime":"2025-10-16T01:39:55+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 支持批量获取店铺指标并批量化实现，调整相关 DTO 与仓库接口","modules":["backend"]},{"hash":"backend-8ea4ae8ed2efd23554232dfa7cedc0cc161dd9dd","datetime":"2025-10-16T01:03:42+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加店铺实时指标与订单排队位置信息","modules":["backend"]},{"hash":"frontend-6918386b03b7135794e2ca3742852eeca1227ef2","datetime":"2025-10-15T02:11:40+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 重构所有与店铺选择有关的样式显示以及功能,新增查看店铺繁忙程度&店铺基础履约种类的功能","modules":["frontend"]},{"hash":"5c7788e041d9b14eee0cb324f613b561da311ddf","datetime":"2025-10-14T23:56:51+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"docs: 新增履约规则与店铺负载 Mockup，补充基础到店免费规则并更新订单状态文档","modules":[]},{"hash":"admin-287d7a2983046ceea9239bc31b919bf8bd8c5913","datetime":"2025-10-12T23:52:35+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"refactor: 重构履约类别相关代码，支持 fulfillment-category 表以查询履约类别是单选还是复选，优化履约管理页面逻辑与样式","modules":["admin"]},{"hash":"frontend-5dce35e4a9f940c4019677da4d259214f96aa1d5","datetime":"2025-10-12T23:51:12+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 更新履约选项类别结构，优化默认选择逻辑，支持全新的fulfillment-category 逻辑","modules":["frontend"]},{"hash":"backend-e6d6e170a4597aa32d2b46aac2ff40e90eb09d49","datetime":"2025-10-12T23:04:45+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 优化 Fulfillment 相关服务，移除不必要的 QR 码参数并添加事务管理","modules":["backend"]},{"hash":"backend-17c68482174f174361c81acc7982ffe2a603f12b","datetime":"2025-10-12T18:39:52+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加获取所有履行类别的接口，并引入相关依赖","modules":["backend"]},{"hash":"backend-58c151b94f2adb632d93854ac2952a689a31cec7","datetime":"2025-10-12T14:27:35+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加 PIN_ONLY 自助打印组件，更新 fulfillment_components 表结构以包含更多字段","modules":["backend"]},{"hash":"backend-e69b6eedf0651787ad4d1b3e8904405f67366de6","datetime":"2025-10-12T14:19:45+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"fix: 再次回滚以确保回滚到正确的文件版本","modules":["backend"]},{"hash":"backend-40f0dee8a33052c6d60cebeab842a448cf19700a","datetime":"2025-10-12T14:10:10+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"fix: 回滚以修复报错","modules":["backend"]},{"hash":"backend-4d7e400e3ad1bc8fb9f1fcc23a8e292baa4f4810","datetime":"2025-10-12T14:02:49+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 更新 fulfillment_categories 和 fulfillment_components，修复数据迁移逻辑并添加新组件","modules":["backend"]},{"hash":"backend-1b60e5088272ee3e20c54353fe528309b1db1ff5","datetime":"2025-10-12T13:48:48+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 更新 fulfillment_categories 数据，调整分类和组件关联以支持新逻辑","modules":["backend"]},{"hash":"backend-624818b44ae726629a9c44b07711b71819f3d748","datetime":"2025-10-12T13:40:26+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 更新 fulfillment_components 中的 category_id 关联，添加更多组件键并处理空值分类","modules":["backend"]},{"hash":"backend-291b967a23a7fd509f923aa3f09895d6f18916d9","datetime":"2025-10-12T13:38:47+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 更新fulfillment_categories插入语句，支持重复键更新以确保数据一致性","modules":["backend"]},{"hash":"backend-faf57cf0c61461393f6e659d4eae47119ac22aa3","datetime":"2025-10-12T13:36:07+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 更新FulfillmentOption构造函数，添加CategoryInfo中的规则字段以支持新逻辑","modules":["backend"]},{"hash":"backend-74b57264a07f8c6fdbf29d66f8c1bb3f7ba66853","datetime":"2025-10-12T13:24:01+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 更新CategoryInfo类，添加SelectionRule字段并修改构造函数，更新相关服务实现以支持新字段","modules":["backend"]},{"hash":"backend-0f29c1d56de6ba632e87dcb2fd194451a216ce49","datetime":"2025-10-11T22:59:16+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 重构订单分类逻辑，添加FulfillmentCategory和CategoryInfo类，修改 `FulfillmentComponent` 实体，将 `category` 字段改造为与 `FulfillmentCategory` 的多对一关联。","modules":["backend"]},{"hash":"backend-be3dddcdfe1701db7bc220d7509eaf596fc901a5","datetime":"2025-10-10T22:57:07+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加确认送达接口，支持订单状态手动确认并处理幂等性","modules":["backend"]},{"hash":"backend-fc75dae06220386e5189ea19e2f1b73be8d6e932","datetime":"2025-10-10T21:56:58+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加配送和快递信息更新接口，支持订单状态变更和信息录入","modules":["backend"]},{"hash":"backend-a782ea258dd5058681c74c5c6208613cd977f71b","datetime":"2025-10-10T11:26:16+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 更新订单状态处理逻辑，支持预约订单转为QUEUE_NUMBER模式并记录状态日志","modules":["backend"]},{"hash":"backend-19517869ace09ee0d2a73caff19a7c070da0570c","datetime":"2025-10-10T10:50:06+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加订单更新时间字段，更新相关方法以支持状态更新","modules":["backend"]},{"hash":"backend-4f476910e9cb45308fd6adb5fd3d0b63f57184e4","datetime":"2025-10-10T10:30:59+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加自动完成订单的定时任务，支持超时订单的自动处理","modules":["backend"]},{"hash":"frontend-5c1324e97a9ed911b8e383ef5952f2e564c8493c","datetime":"2025-10-09T23:38:55+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加 useOrderStatusMeta hook，优化订单状态和履约类型的元数据处理，更新相关组件以使用新逻辑","modules":["frontend"]},{"hash":"9641a3a37c886a5992e8bf5004e2911b7b6fe285","datetime":"2025-10-07T23:36:46+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 为下一阶段开发设计全新的任务指引","modules":[]},{"hash":"fbca8974fc0c5fbca775d9babd35fbf9ad8c4e4d","datetime":"2025-10-06T23:24:46+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 同步订单-支付-订单状态的文档以及mockup 页面","modules":[]},{"hash":"admin-7a4b164c71f2ecfbd2e4e4a048bb94d1b976836d","datetime":"2025-10-06T23:22:44+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 增强履约组件管理以及订单管理，完善组件设计逻辑，分离履约组件configMode 的职责","modules":["admin"]},{"hash":"frontend-84d506b987eaae851807961f618e323d04ef6806","datetime":"2025-10-05T22:04:44+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 增强订单履约信息展示，支持状态变更处理与打印进度显示，优化房间号输入逻辑","modules":["frontend"]},{"hash":"backend-a8182e952a841486e49ae0fe44a467ad3cbc88c3","datetime":"2025-10-04T20:25:55+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加立即开始打印的接口，支持用户提前到店打印订单","modules":["backend"]},{"hash":"backend-4fc421d66039b7744ad0e8f79062fcd04e174405","datetime":"2025-10-03T11:25:40+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 处理预约时间字段，支持String和Long类型的转换","modules":["backend"]},{"hash":"frontend-0befb7ea05451d97b311e69f8b1b45cc884bd95e","datetime":"2025-10-02T23:45:12+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 支持后端特殊状态流转，并提供订单页面对应 UI以及功能，完善支付确认与支付结果页的数据逻辑与样式","modules":["frontend"]},{"hash":"backend-1a0c167fa8d4932368bcdeb526a775ea6f7cd530","datetime":"2025-10-02T23:20:54+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加订单详情DTO的getter和setter方法，以支持数据访问","modules":["backend"]},{"hash":"backend-032ebba543209207f5e02e220a24c9eec965cac8","datetime":"2025-10-02T22:36:54+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 更新订单DTO，添加创建时间和过期时间字段，并在构造函数中进行初始化","modules":["backend"]},{"hash":"backend-16a81dcc805602140cc5c5b5969527a12e0873ba","datetime":"2025-10-02T21:47:39+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 在响应数据中添加创建时间和过期时间字段，并在订单详情中设置相应值","modules":["backend"]},{"hash":"backend-f8715f65d01d8b16322e79f4cbf405680c88f97a","datetime":"2025-10-02T21:17:27+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加过期时间字段到订单详情DTO，并在构造函数中初始化该字段","modules":["backend"]},{"hash":"backend-238fcd8524e6e74385f615a873936215bb7ac900","datetime":"2025-10-02T20:48:00+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加创建时间字段到订单响应DTO，并在订单服务中设置该字段","modules":["backend"]},{"hash":"backend-d41d6333ff0f449e7d0b23685afd1ed176f62008","datetime":"2025-10-02T20:30:34+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加订单取消功能，支持用户主动取消待支付订单，添加客户端订单接口支付时间与下单时间字段","modules":["backend"]},{"hash":"backend-0648f8c9f6972e3500da2fdebdb63df8f13ed6c7","datetime":"2025-10-02T02:18:03+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加履约费用纳入折扣计算的逻辑，优化优惠券使用规则","modules":["backend"]},{"hash":"frontend-b9880d7a15badbac6f00972c4c370a6eff2ae8b0","datetime":"2025-10-02T02:17:06+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 完成订单与订单详情页的重构设计。并完善支付确认，支付结果页的履约信息展示区域，支持二维码履约显示。","modules":["frontend"]},{"hash":"backend-47f3648db827db37601a6246f6b387e4dd1d8422","datetime":"2025-10-02T01:52:57+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 优化订单详情V2的履约信息处理，确保准确性并移除不再使用的字段","modules":["backend"]},{"hash":"backend-7dd92f751aab57cc129192f02b7f272a0431617c","datetime":"2025-10-02T01:40:39+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加服务组件批量查询功能，优化分类汇总逻辑","modules":["backend"]},{"hash":"backend-8d18dbf831ad3bf904549785a80a1aa54a8f64a1","datetime":"2025-10-02T01:19:04+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 优化错误处理，增强获取订单详情和服务组件分类信息的稳定性","modules":["backend"]},{"hash":"backend-67bd52c3418d096c37cc7463ba1f7e8464113171","datetime":"2025-10-02T01:09:59+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加分类汇总功能，优化订单详情V2的价格明细处理逻辑","modules":["backend"]},{"hash":"backend-0a2750eaf4960c44467b14006c1d49b3d0cb718d","datetime":"2025-10-01T23:56:13+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加订单详情V2支持，优化订单获取逻辑，动态生成缺失的履约码","modules":["backend"]},{"hash":"backend-0db8f96ca05891b0f35ff84b9e17d371117bb2f3","datetime":"2025-09-30T01:31:57+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 更新订单服务，优化履约信息生成逻辑，确保嵌套对象不为 null，并根据履约类型保存生成的代码","modules":["backend"]},{"hash":"backend-af1dcd7a53b9435f1898c0050f3b56939a48808a","datetime":"2025-09-30T00:47:02+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 重构取货码生成逻辑，优化根据履约类型生成取件码和相关信息","modules":["backend"]},{"hash":"backend-55fef95ea10d3cfc49385b7c65d63bd215574602","datetime":"2025-09-29T19:51:48+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 重构 PrintJobController，优化错误处理和权限验证逻辑，添加对 AuthService 的依赖","modules":["backend"]},{"hash":"backend-ad2597d9d62bf048e9c8d7f025527a80403bb9cd","datetime":"2025-09-29T19:20:24+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加处理成功支付的方法，重构支付服务以支持订单状态转换和履约码生成","modules":["backend"]},{"hash":"backend-c91f7ac0547da7180106802e2c156d7a758de2f5","datetime":"2025-09-29T18:04:16+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加时间线信息到 FulfillmentDetailDTO，重构 OrderDTO 和 OrderServiceImpl 以支持新结构","modules":["backend"]},{"hash":"frontend-c644da68233657b2f9a28d18055241d46d8e31b5","datetime":"2025-09-29T02:10:02+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 优化文件打印规格更新逻辑，确保本地文件与后端数据同步；更新订单详情页履约信息处理，暂时使用 mock 数据演示全新展示效果","modules":["frontend"]},{"hash":"backend-d0b8de986dc3c09fed01621367d9947793db998e","datetime":"2025-09-28T16:36:55+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加 JTI 服务以支持一次性令牌消费和预留，重构相关控制器和服务逻辑","modules":["backend"]},{"hash":"backend-dab7271e10ddd6b46f495e47725764ecbdd02b70","datetime":"2025-09-28T15:01:49+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加二维码数据生成逻辑，优化订单履约信息处理","modules":["backend"]},{"hash":"backend-22cfb4223c50ea49765906b5a22856093f176be1","datetime":"2025-09-28T13:58:08+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加对 FulfillmentDetailDTO 中 PickupInfo 和 DeliveryInfo 类的 JsonIgnoreProperties 注解，以忽略未知属性","modules":["backend"]},{"hash":"backend-72078ffb7215a2ed5dc7888a665a5b2eb239c681","datetime":"2025-09-28T13:47:06+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加通过提货码查询订单的新方法，优化原有查询逻辑","modules":["backend"]},{"hash":"backend-c0343190023794eddac08d2f5be8b99fa45f81e0","datetime":"2025-09-28T13:44:40+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"refactor: 重构前端相关订单接口返回结构，支持新的二维码生成逻辑","modules":["backend"]},{"hash":"backend-c0c4f0a6def5a5ddb8e0ee9ce02589961e495bd7","datetime":"2025-09-28T13:07:44+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 移除清理订单数据变更集中对 order_status_history 表的删除操作","modules":["backend"]},{"hash":"backend-42a25126ba132f5c4cc3369e23b92ae086151b33","datetime":"2025-09-28T13:06:31+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 修复注释位置，确保在清理订单数据的变更集中正确描述外键约束","modules":["backend"]},{"hash":"backend-dc0e6d74ebce56b0eec630ad26e605ab276f2170","datetime":"2025-09-28T13:04:01+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 更新清理订单数据的变更集，添加预条件以确保在 MySQL 中正确执行","modules":["backend"]},{"hash":"backend-6b593a36fa3d9db84b1568f35f3396e37acb2c0a","datetime":"2025-09-28T12:57:59+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 更新 PrintJobController 和 PermissionServiceImpl，添加权限注解并优化权限检查逻辑, 设置订单清理（此 commit 不适合日常使用）","modules":["backend"]},{"hash":"backend-908017a7475eed20a827ba2fb215cd2940b5a8b6","datetime":"2025-09-28T02:19:11+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加回填 numeric_pickup_code 的变更集，从 fulfillment_info JSON 中提取现有订单的取件码","modules":["backend"]},{"hash":"backend-bdd5899ab7816b0867b7c6ce16e207974cda7242","datetime":"2025-09-28T02:18:23+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 重构订单服务中的取件码生成逻辑，确保在保存订单后生成并合并取件码和二维码信息","modules":["backend"]},{"hash":"backend-8cf21f71b2410437cbb98a5ec8acd0e9dee103dd","datetime":"2025-09-28T02:06:38+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 在订单服务中生成并设置 numericPickupCode，更新履约信息以支持基于 PIN 码的履约","modules":["backend"]},{"hash":"backend-188bd56b96990f03e1dc5fb0ec027be72229227c","datetime":"2025-09-28T01:54:34+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加 numeric_pickup_code 字段及索引到订单表，以支持基于 PIN 码的履约","modules":["backend"]},{"hash":"backend-6c835caefbb884e6426c876ad8e453ee2a6c9f2d","datetime":"2025-09-28T01:37:44+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加通过 PIN 码获取订单的功能，更新相关服务和控制器逻辑","modules":["backend"]},{"hash":"backend-ef70b039500827b005f528df0c408b215c6dfff3","datetime":"2025-09-27T21:12:33+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"refactor: 更新订单相关查询，使用 OrderStatus 枚举替代字符串状态，增强类型安全性","modules":["backend"]},{"hash":"backend-430a86af4b2677bc6051690fb623dda694553d97","datetime":"2025-09-27T21:04:09+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"refactor: 重构打印和履约相关代码，使用 Token 替代原本的二维码实现，支持二维码自动履约，取消测试用自动完成支付","modules":["backend"]},{"hash":"backend-537bc0163f88b41c6bc1e4f97b65fc89d5c2e284","datetime":"2025-09-26T21:35:16+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 在 FulfillmentComponentDTO 和 FulfillmentComponentServiceImpl 中添加 fulfillmentType 字段及其处理逻辑","modules":["backend"]},{"hash":"backend-0450dc32ea6992595337b1073eb5c55e055894ff","datetime":"2025-09-26T18:09:36+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"refactor: 重构有关履约组件的逻辑，使用新字段fulfillmentType 分离原 configMode 的多重含义","modules":["backend"]},{"hash":"backend-8c7ddb3733101dbf03f5884aa79e70efa49b9847","datetime":"2025-09-25T02:43:27+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 更新 Fulfillment 类，弃用 type 字段，新增 componentKey 字段以支持新逻辑","modules":["backend"]},{"hash":"backend-b4ed3bfaa00577c83ee3ecc625f18930601c40da","datetime":"2025-09-25T02:31:54+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加 Fulfillment 和 PickupInfo 扩展字段，支持配置模式和快递信息","modules":["backend"]},{"hash":"admin-83eadbf1b41fda762bfb6cd9497ff144a1069a15","datetime":"2025-09-25T01:59:59+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 完成价格详情的页面设计","modules":["admin"]},{"hash":"backend-df3ae3ef8a1d5cd96be646c7c8de22ff808214f8","datetime":"2025-09-23T13:08:59+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 更新订单详情 DTO 和相关组件，添加折后单价和折后总价字段，优化价格计算逻辑","modules":["backend"]},{"hash":"backend-1538c8eb0868eac420fef1a49853a93dc0b3508d","datetime":"2025-09-22T16:21:08+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 初步完成管理端订单接口的 DTO 设计","modules":["backend"]},{"hash":"frontend-993e1b0320b8342f042cae6d40ec440faca2af51","datetime":"2025-09-22T00:11:49+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 支持更多店铺类别枚举项，优化店铺卡片显示","modules":["frontend"]},{"hash":"admin-c567a685f2edb3ab36c0b25849df344a122412ef","datetime":"2025-09-22T00:10:47+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 对接订单管理页面列表部分的后端","modules":["admin"]},{"hash":"backend-5f3ebc2abe16ec38b9432e2cc8477df57e23b440","datetime":"2025-09-22T00:05:24+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 优化订单查询，使用 EntityGraph 仅抓取基础引用并显式初始化所需集合，避免懒加载和 MultipleBagFetchException","modules":["backend"]},{"hash":"backend-6ebf16b635afce3bb3b28a2c8ca3446d4dc79026","datetime":"2025-09-22T00:01:26+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 使用 EntityGraph 查询订单，显式初始化用户等级以避免懒加载问题","modules":["backend"]},{"hash":"backend-cbe508e2c10b4be2f7f95a461e11d95555f643de","datetime":"2025-09-21T23:47:50+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 正确初始化懒加载关联，避免在访问 id 时未触发初始化","modules":["backend"]},{"hash":"backend-bc198f660a5332529ae0ffd1b3f547af505fcba3","datetime":"2025-09-21T23:40:35+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 显式初始化用户等级，防止在事务外构造 DTO 时被判定为未初始化","modules":["backend"]},{"hash":"backend-73f7b9822fb90478ba268788c9e4d2b82e181c2b","datetime":"2025-09-21T23:33:55+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 更新订单统计逻辑，支持按店铺ID过滤统计数据；优化查询条件","modules":["backend"]},{"hash":"backend-ee42a27e3235337641f0039daca27dcf8c8809a2","datetime":"2025-09-21T22:56:20+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 增强 UserSummaryDTO，新增客户等级信息字段，优化前端展示逻辑","modules":["backend"]},{"hash":"backend-c337c5816f092885f96d5da8375ba0511119690c","datetime":"2025-09-21T22:16:29+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 优化 UserSummaryDTO 中的等级字段加载逻辑，避免懒加载异常","modules":["backend"]},{"hash":"backend-d64cf3781830de007b756dda77bea4c102013441","datetime":"2025-09-21T22:12:33+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 优化订单统计逻辑，支持按日期统计今日订单状态；更新查询以包含用户信息","modules":["backend"]},{"hash":"backend-0c52c4d7336392bb23eb27cdd3a5bf08b60f4ed6","datetime":"2025-09-21T22:02:37+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加权限服务支持，优化订单查询的权限控制逻辑","modules":["backend"]},{"hash":"backend-f95ba5c86a7fc16203c22e45034bf0a98a7b92bd","datetime":"2025-09-21T21:57:45+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加平台运营角色支持，优化订单查询的店铺可见性控制逻辑","modules":["backend"]},{"hash":"backend-bbeba3013452cacceb23a60fe49f024bf4d651ed","datetime":"2025-09-21T21:33:32+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加用户信息和异常标识到订单DTO，增强订单数据结构；新增订单详情DTO的用户、商店、定价、支付、时间线和异常日志字段","modules":["backend"]},{"hash":"backend-a0ab16ae45faf3fe90fffeae46586ab01aca8af2","datetime":"2025-09-21T19:13:40+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 更新商店类型枚举，支持更长的值并修改现有数据","modules":["backend"]},{"hash":"frontend-06064b3da8f307e224495905e194639c5c8b2f1f","datetime":"2025-09-21T02:13:25+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 完善上传文件逻辑，修复订单页面显示","modules":["frontend"]},{"hash":"backend-aa7d3edbfeddb3ff9f3611027e2d509ceda8e2fe","datetime":"2025-09-21T02:11:28+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加分页订单查询功能，优化文件加载逻辑以避免空集合问题","modules":["backend"]},{"hash":"backend-be5e1dd78721d34f2f94f9fba3b756057fa00cfe","datetime":"2025-09-21T02:05:52+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 更新上传接口，支持 multipart/form-data 编码，优化中文文件名处理逻辑，修复懒加载警告","modules":["backend"]},{"hash":"backend-51158b5463956e96ffc687d0c7ae3a05d2d0552f","datetime":"2025-09-21T01:53:10+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加文件名规范化功能，修正上传中文文件名乱码问题，并设置响应类型为JSON","modules":["backend"]},{"hash":"backend-a5595dc53bd5b4659521c1e6faf4399440e7d630","datetime":"2025-09-21T01:40:39+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 自动转换缺失文件以提升复用体验，并优化PDF文件哈希处理逻辑","modules":["backend"]},{"hash":"backend-22a43db7ab6c343e8abb771c70a66fa00f48d07d","datetime":"2025-09-21T01:21:47+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 增强文件上传逻辑，支持请求的原始文件名和非PDF文件的转换结果返回","modules":["backend"]},{"hash":"backend-d10751706c836e5d2bc06f7c9cd5594b4562d54d","datetime":"2025-09-21T00:50:00+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"refactor: 重构文件上传接口，解耦储存方式，支持去重的文件上传与转换以及完整信息记录","modules":["backend"]},{"hash":"backend-4d97f4ed7848003181f204fe52347a45ffca979d","datetime":"2025-09-20T23:10:00+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加自定义排序逻辑，根据订单状态对查询结果进行排序","modules":["backend"]},{"hash":"backend-cfb1f1e5adacb3444bd4d540695e13a68a42a844","datetime":"2025-09-20T22:59:31+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加pickup_code_sequence字段到Store实体，并实现取货码生成的并发安全逻辑","modules":["backend"]},{"hash":"backend-22c7d9bced559f71c637887ee864c9ca7e30b89f","datetime":"2025-09-19T10:47:10+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 格式化金额信息为两位小数，并增强从Map中安全获取取货信息的逻辑","modules":["backend"]},{"hash":"backend-51e7514b7cf21e8bdf5d64816557d25c03c67ca5","datetime":"2025-09-18T13:54:59+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 修改OrderDTO中的totalCount字段类型为Integer，以支持null值处理","modules":["backend"]},{"hash":"backend-61f490f835a63bedde2bc990c283f3e35d1337c9","datetime":"2025-09-17T19:56:30+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 增强OrderDTO构造函数，添加对订单文件的空值保护和懒加载处理","modules":["backend"]},{"hash":"backend-4348f7b41d3425b7a4eb0c306bb750cec9d72b26","datetime":"2025-09-17T19:50:17+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 增强OrderDTO构造函数，添加空值保护以兼容历史脏数据","modules":["backend"]},{"hash":"backend-ca369d77497a329ecd7ad1e5d79797c069518086","datetime":"2025-09-17T19:44:11+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 修改订单和订单DTO中的isPickupPoint字段类型为Boolean，以支持null值处理","modules":["backend"]},{"hash":"backend-475a80af471c0ccad15c93e1aa619fb6614ce12e","datetime":"2025-09-17T19:36:46+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"refactor: 重构订单接口和数据结构，适配前端界面显示","modules":["backend"]},{"hash":"backend-0f154d0f48016896b3566540d552b1ccc18c5f45","datetime":"2025-09-17T11:01:40+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 优化支付回调处理逻辑，增强订单状态迁移，支持打印和取件状态","modules":["backend"]},{"hash":"backend-ced2c107a5be0baf6a0a088f23aad7498b10a663","datetime":"2025-09-17T10:43:58+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加订单履行信息字段，优化订单状态迁移事件发布逻辑","modules":["backend"]},{"hash":"backend-d30b3ea7dc41839825abfbcc31387ce1eeeff6b8","datetime":"2025-09-17T10:33:34+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 修改订单状态推进逻辑，支付成功后将状态设置为“待取件”，以便前端及时显示取件码","modules":["backend"]},{"hash":"backend-073993909c5381b11d6126a1a82784574b74079c","datetime":"2025-09-17T10:13:52+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 增强订单状态管理，添加“处理中”状态组及相关查询逻辑，优化取件码生成服务","modules":["backend"]},{"hash":"backend-d2df75353f1436014af9a57f8561ad2f768c1e8a","datetime":"2025-09-16T13:42:11+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加无参构造函数并整理OrderListResponse类的getter和setter方法","modules":["backend"]},{"hash":"backend-d58dbfe391f98b4ba56a1d7caafee453a30c8618","datetime":"2025-09-16T13:34:24+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 优化订单查询逻辑，调整用户ID过滤条件以避免误伤结果为空","modules":["backend"]},{"hash":"backend-ffe2ade747edb53ce5e2f29e002c5849c3b0b976","datetime":"2025-09-16T12:50:55+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 优化订单查询逻辑，增强非平台管理员用户的权限控制，支持“我的订单”查询","modules":["backend"]},{"hash":"backend-38038b0c36042394bbc5dbd6a03aba34e106b18d","datetime":"2025-09-15T19:22:30+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加订单创建响应中的履约信息快照，增强支付确认的准确性和兼容性","modules":["backend"]},{"hash":"backend-03e69acd45df0b971e432482c8f431a737297f41","datetime":"2025-09-14T13:44:53+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 优化支付回调处理逻辑，增强日志记录和订单关联，调整注释以提高可读性","modules":["backend"]},{"hash":"backend-9fed3e58e68d1965e0d97bec22568c71b0be7f9b","datetime":"2025-09-14T13:34:26+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 优化用户优惠券锁定逻辑，处理虚拟券情况并增强异常处理","modules":["backend"]},{"hash":"backend-365ecfbd370270158ffc71d6277af53f1eb72db2","datetime":"2025-09-14T13:22:12+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加订单号生成逻辑，确保唯一性并优化可读性","modules":["backend"]},{"hash":"backend-94c58e579ab9d7b46ae7e52b16f78201d68ed26b","datetime":"2025-09-14T13:13:27+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 优化 AuthUtils 中的 getCurrentUserId 方法，简化身份验证逻辑，增强代码可读性","modules":["backend"]},{"hash":"frontend-21fcb61cd50d201cb81156ed9e3d6d89c0c164be","datetime":"2025-09-12T20:10:23+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加幂等键生成，优化订单提交流程；兼容新旧支付参数","modules":["frontend"]},{"hash":"23c783906858aaddc602e1fe7e03bcb1ca3af343","datetime":"2025-09-11T10:33:00+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 设计订单支付流程文档","modules":[]},{"hash":"frontend-450385a90288116097664f41c401fd95af8b4509","datetime":"2025-09-10T23:06:14+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 删除旧支付页面组件，防止错误识别","modules":["frontend"]},{"hash":"backend-8d3e280f67dcb53a132048432d22be2f0e51cade","datetime":"2025-09-10T23:05:56+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加订单支付事件监听器，自动处理打印任务并优化打印逻辑","modules":["backend"]},{"hash":"frontend-8b4313e624e03aa09cc2cc8b011a6ae28858a707","datetime":"2025-09-09T10:37:55+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 完善订单详情页面设计，使用 html mockup 样式，并更新了 mock 数据","modules":["frontend"]},{"hash":"frontend-a4359049df573d04b62b50ab58a4d5e49c19e9e6","datetime":"2025-09-08T21:50:02+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"fix: 修复 mock 数据导致的无法编译","modules":["frontend"]},{"hash":"58e1c65a8634c1eab3b9b93222fa09bce73ceef2","datetime":"2025-09-07T21:21:33+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 设计订单详情页面","modules":[]},{"hash":"frontend-576c2791e6e989bcc764fa748e1ec2b4839b44f3","datetime":"2025-09-06T21:57:55+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 完善订单页面设计，初步修正订单详情页面","modules":["frontend"]},{"hash":"af0010d581c847175aa263b1e392d4564447dda2","datetime":"2025-09-05T22:49:29+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 新增支付确认测试页面以及支付系统文档","modules":[]},{"hash":"frontend-dc85742c5c30e80dbfefb5616a4f8829893fdb31","datetime":"2025-09-05T22:48:23+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 新增支付确认和支付成功页","modules":["frontend"]},{"hash":"frontend-56a92ca24d7e25d27055ca599a77ab507e5144a0","datetime":"2025-09-05T15:55:23+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 新增会员等级券支持","modules":["frontend"]},{"hash":"backend-0c362baeb75873b8270bdc9cc7ca911c5bb71899","datetime":"2025-09-05T15:39:38+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 优化虚拟等级折扣券逻辑，确保用户信息重新加载以避免懒加载异常","modules":["backend"]},{"hash":"backend-1aa290b640b547b82d7ef23e6708c8314c7496ae","datetime":"2025-09-05T15:33:04+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 优化虚拟券创建逻辑，添加日志记录以便调试，简化条件判断","modules":["backend"]},{"hash":"backend-8773a6a03dbab02fd6cd4a8d0f9babc0e33a7ff5","datetime":"2025-09-05T15:23:29+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加虚拟等级折扣券支持，优化优惠券排序逻辑，更新 UserCouponDTO 源字段","modules":["backend"]},{"hash":"backend-aa3c3c921b5d8ae129a6311b51c5e4be37f64d5a","datetime":"2025-09-04T22:59:04+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 添加支付处理功能，包括支付回调和订单状态更新，修复 user-coupon的懒加载报错","modules":["backend"]},{"hash":"backend-715ff6aa7c3cbf9d93d9e646109ae861a22bf698","datetime":"2025-09-04T21:33:22+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 完成对于订单部分后端的主要设计和重构","modules":["backend"]},{"hash":"admin-be9d57b5311e114cd444414d7e6f1f69d9ce4110","datetime":"2025-09-03T19:17:15+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 完成订单管理前端样式和逻辑设计","modules":["admin"]},{"hash":"045ad372ef961309fbf48d974ac31c45c880a8d7","datetime":"2025-09-03T15:36:02+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 更新优惠券计划文档，重构导航与章节，补充最新进展与关键验证点","modules":[]},{"hash":"ab32613eaaccc3d86c95ab366c4d2758a5c2eb4f","datetime":"2025-09-03T15:35:28+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 同步本地优惠券相关文档","modules":[]},{"hash":"frontend-1fbe3fc672f3782d7b24f68f3e9f2a6e5463aeb2","datetime":"2025-09-03T02:45:35+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 完善一切和优惠券有关的设计和代码，使其能够正常使用和计价","modules":["frontend"]},{"hash":"admin-3923af0c576287e160f93a523d3a1169bebc3939","datetime":"2025-09-03T02:35:44+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 更新优惠券创建页面，支持选择服务或履约，优化绑定逻辑和翻译","modules":["admin"]},{"hash":"backend-89fa37c34430496a62a29fcadc50bc5796b7c0a2","datetime":"2025-09-03T02:34:55+08:00","author":"skyhua","email":"dev@sky-hua.xyz","subject":"feat: 更新 FulfillmentPriceRule 和 StoreFulfillmentSettingRepository 以优化履约费用处理逻辑","modules":["backend"]}],"_lite":true,"source":"local-git"}